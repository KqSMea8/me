$(function(){function n(n){var e=n||{title:"顺风出行，期待每一次的不期而遇。",desc:"滴滴顺风车车主有奖招募中，有车即可参与",link:location.href,imgUrl:"http://static.xiaojukeji.com/pinche/images/share.jpg"};e.img_url&&(e.imgUrl=e.img_url),wx.onMenuShareAppMessage({title:e.title,desc:e.desc,link:e.link,imgUrl:e.imgUrl,trigger:function(){},success:function(){},cancel:function(){},fail:function(){}}),wx.onMenuShareTimeline({title:e.tltitle||e.title,desc:e.tldesc||e.desc,link:e.link,imgUrl:e.imgUrl,trigger:function(){},success:function(){},cancel:function(){},fail:function(){}}),wx.onMenuShareQQ({title:e.title,desc:e.desc,link:e.link,imgUrl:e.imgUrl,trigger:function(){},complete:function(){},success:function(){},cancel:function(){},fail:function(){}})
}var e=!1;window.initWxShare=function(i){return e?void n(i):void $.ajax({url:"http://res.wx.qq.com/open/js/jweixin-1.0.0.js",dataType:"jsonp",error:function(){$.ajax({url:"http://wap.didialift.com/pinche/wxApi/getJsSdkConfig?url="+encodeURIComponent(location.href),dataType:"jsonp",success:function(t){var o=t;if(o&&"0"==o.errno){var a={debug:!1,appId:"wxab524d83299d6c83",timestamp:o.timestamp,nonceStr:o.nonceStr,signature:o.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ"]};
/debug=1/.test(location.href)&&(console.log("initWxShare"),console.log(a),console.log(i)),wx.config(a),wx.ready(function(){e=!0,n(i)})}},error:function(){}})}})}}),$(function(){function n(n){if(n){var t=n.btn,o=n.showMoreBtn,a=n.shareConfig,c=[{button:t,method:"invoke_entrance"}],r={share_url:a.link,share_icon_url:a.img_url,share_img_url:a.img_url,share_title:a.title,share_content:a.desc,share_from:"native"},l={entrance:{icon:"http://static.xiaojukeji.com/api/img/i-webview-entrance.png"},buttons:[{type:"share_weixin_timeline",name:"分享到微信朋友圈",data:r,callback:function(){}},{type:"share_weixin_appmsg",name:"分享给微信好友",data:r,callback:function(){}},{type:"share_sina_weibo",name:"分享到新浪微博",data:$.extend({},r,{share_content:a.weibo_desc||a.desc}),callback:function(){}},{type:"share_qq_appmsg",name:"分享给QQ好友",data:r,callback:function(){}},{type:"share_qzone",name:"分享到QQ空间",data:r,callback:function(){}},{type:"page_refresh",name:"刷新"}]},s=$.os.ios;
i(function(n){s&&n.init&&n.init()}),i(function(n){"undefined"!=typeof n&&(n.callHandler("init_entrance",JSON.stringify(l)),o&&setTimeout(function(){n.callHandler("show_entrance")},300),e(n,c))})}}function e(n,e){$.map(e,function(e){!function(e){$(e.button).on("touchend",function(){"undefined"!=typeof n&&n.callHandler(e.method)})}(e)})}function i(n){window.DidiJSBridge?n(DidiJSBridge):document.addEventListener("DidiJSBridgeReady",function(){n(DidiJSBridge)},!1)}/debug=1/.test(location.href)&&(window.DidiJSBridge={callHandler:function(n,e){console.log("call action "+n),console.log(e)
}}),window.initDidiShare=n});