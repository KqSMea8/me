!function(e,t){if("function"==typeof define&&define.amd)define(["jquery","exports"],function(e,n){t(e,n)});else if("undefined"!=typeof exports)t(window.$,exports);else{var n=e.jQuery||e.Zepto||e.$;if(!n)throw Error("DidiMonitor: jQuery or Zepto is needed!");e.DidiMonitor=t(n,{})}}(this,function(e,t){function n(){return/baidubrowser/i.test(v)}function i(){return/micromessenger/i.test(v)}function o(){return/didi\.passenger\//i.test(v)}function r(t,i){var o=t+(t.indexOf("?")>=0?"":"?")+e.param(i);return setTimeout(function(){var t=e('<link rel="'+(n()?"alternate ":"")+'stylesheet" />');
e("head").append(t),t.attr("href",o+"&_ra_="+(new Date).getTime()),setTimeout(function(){t.remove()},5e3)},0),o}function a(e){var t;return t=e?new Date(e):new Date,[t.getFullYear(),(t.getMonth()+1<10?"0":"")+(t.getMonth()-0+1),(t.getDate()<10?"0":"")+t.getDate(),(t.getHours()<10?"0":"")+t.getHours(),(t.getMinutes()<10?"0":"")+t.getMinutes(),(t.getSeconds()<10?"0":"")+t.getSeconds(),(t.getMilliseconds()<10?"00":t.getMilliseconds()<100?"0":"")+t.getMilliseconds()].join("")}function u(e){for(var t=[],n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length;e-->0;)t.push(n.charAt(Math.floor(Math.random()*i)));
return t.join("")}function c(e){return a(e)+u(7)}function s(){var e=location.hostname,t=e;return/(xiaojukeji\.com|diditaxi\.com\.cn|didialift\.com|udache\.com)$/.test(e)&&(t=RegExp.$1),t}function d(e){if(!navigator.cookieEnabled)return"";var t=document.cookie,n=new RegExp("(^|\\s)"+e+"=([^;]*)","g");return n.test(t)?unescape(RegExp.$2):""}function f(e,t,n,i,o,r){if(navigator.cookieEnabled&&e){var a=[];void 0===t&&(n=new Date("1970-01-01")),a.push(e+"="+escape(t||"")),n&&a.push("expires="+n.toGMTString()),a.push("domain="+(i||s())),o&&a.push("path="+o),r&&a.push("secure"),document.cookie=a.join("; ")
}}function g(e){var t=m,n=new Date;return n.setTime(n.getTime()+31536e7),""===d(t)&&f(t,c(e),n,null,"/"),d(t)}function l(e,t){if(!e)return"";var t=t||location.search,n=new RegExp(e+"=([^&]*)","g");return n.test(t)?RegExp.$1:""}function p(e,t){return decodeURIComponent(l(e,t))}function h(t,n,i){var o,a="//api.diditaxi.com.cn/api/v2/onlinelog",u=location.href.replace(/\?.*$/,""),c=document.referrer.replace(/\?.*$/,""),s=p("psource")||p("actid"),d=p("regfrom")||p("channel");return t?(o=e.extend({type:"h5_beatles",action:t,didifid:g(),url:u,ref:c,browser:x,channel:d,actid:s},n),i?r(a,o):void setTimeout(function(){r(a,o)
},100)):""}var m="didifid",v=navigator.userAgent,x=o()?"didi":i()?"wx":"other";return e.extend(t,{getQuery:p,setCookie:f,getCookie:d,sendBeatles:h,sendStatData:r}),t});