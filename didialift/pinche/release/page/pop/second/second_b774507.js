define("page/pop/second/second.js",function(e,n){$(function(){var e={param:{is_step_initialized:!1,exports:n,$btnDraw:null,$layer:null,$btnTastDetail:null,heroType:"",$heroImg:null,$heroRectText:null,$heroTip:null,$btnGuide:null,$btnShare:null,isDiDiApp:!1},model:{},view:{},ctrl:{}},t=e.param,i=e.model,o=(e.view,e.ctrl);t.init=function(){return t.$container=n.$container=$(".form_second"),t.$container.length>0?(t.$btnDraw=$("#btnDraw"),t.$layer=$("#taskLayer"),t.$btnTastDetail=$("#btnTaskDetail"),t.heroType=$("body").attr("class")||"role1",t.$heroImg=$(".js_hero_img"),t.$heroRectText=$(".js_rocket_text"),t.$heroTip=$(".js_hero_tip"),t.$btnShare=$("#btnShare"),t.$btnGuide=$("#btnGuide"),t.isDiDiApp=/didi.passenger/.test(window.navigator.userAgent),!0):!1},i.getUrlParamByUrl=function(e,n){var t=new RegExp("(\\?|#|&)"+e+"=([^&#]*)(&|#|$)"),n=n||location.href,i=n.match(t);return i?i[2]:""},o.init=function(){t.init()&&(o.wakeup(),o.hideButton(),o.eventInit())},o.hideButton=function(){t.isDiDiApp?t.$btnGuide.hide():t.$btnShare.hide()},o.eventInit=function(){o.chooseHero(),t.$btnDraw.click(function(){t.$layer.show(),_mz_wx_custom(3),$(this).addClass("hover")})},o.step_initialize=function(){document.documentElement.clientWidth<document.documentElement.clientHeight&&(document.getElementsByTagName("html")[0].style.fontSize=(document.documentElement.clientHeight/420*10).toFixed(4)+"px"),t.$container.addClass("on"),t.$container.on("click",".next,.prev",function(e){switch($(e.currentTarget).attr("class")){case"prev":back();break;case"next":forward()}})},o.wakeup=function(){t.exports.wakeup=function(e,n,i){o.forward=function(){n()},o.back=function(){i()},t.is_step_initialized===!1&&(t.is_step_initialized=!0,o.step_initialize())}},o.chooseHero=function(){var e=t.$heroImg[0].src,n=e.match(/img_(.*).png/);window.randomNum=t.randomNum=Math.floor(4*Math.random());var o=i.getUrlParamByUrl("carType");t.randomNum=o?o:t.randomNum,n&&(e=e.replace(n[1],t.heroType)),t.$heroImg[0].src=e;var r=t.$heroRectText.css("background-image"),a=r.match(/text_(.*).png/),c=t.$heroTip.css("background-image"),l=c.match(/tip_(.*).png/);a&&(r=r.replace(a[1],"role"+t.randomNum)),l&&(c=c.replace(l[1],"role"+t.randomNum)),console.log("randomNum:"+t.randomNum),t.$heroRectText.css("background-image",r),t.$heroTip.css("background-image",c),t.$container.find(".js_role"+t.randomNum).show()},o.init()})});