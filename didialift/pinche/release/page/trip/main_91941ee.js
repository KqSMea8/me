define("page/trip/main.js",function(e){"use strict";var n=e("ddplayer"),a=e("didibridge"),i=n.vars,t=function(){n.ready(function(e){var n=location.href.replace(/[?#].*/g,""),t={param:{playerConId:"playerWrap",playerConfig:{data:window.videoData||{},autoplay:!1},clsBodyBg:"js_body_bg",clsBodyBgPlayed:"js_body_bg_played",clsBtnGet:"js_power_get",idBtnShare:"btnShare",isPlayed:!1,idWrongLayer:"wrongLayer",wxShareConfig:{link:n,img_url:"http://static.xiaojukeji.com/pinche/release/page/trip/img/share_ed5cb12.jpg",title:"最sexy的城市出行方式！新技能get",desc:"最经济，最有趣！都市出行sexy秘籍！",weibo_desc:"最经济，最有趣！都市出行sexy秘籍！-滴滴 (来自@滴滴顺风车) http://t.cn/RyVFtQ4"},shareConfig:{share_url:n,share_img_url:"http://static.xiaojukeji.com/pinche/release/page/trip/img/share_ed5cb12.jpg",share_icon_url:"http://static.xiaojukeji.com/pinche/release/page/trip/img/share_ed5cb12.jpg",share_title:"最sexy的城市出行方式！新技能get",share_content:"最经济，最有趣！都市出行sexy秘籍！",weibo_desc:"最经济，最有趣！都市出行sexy秘籍！-滴滴 (来自@滴滴顺风车) http://t.cn/RyVFtQ4"}},model:{player:null},view:{},ctrl:{}},r=t.param,o=t.model,s=(t.view,t.ctrl);r.init=function(){return $.isFunction(e)?0===$("#"+r.playerConId).length?!1:!0:!1},o.initEntranceConfig=function(){r.entranceConfig={entrance:{icon:"http://static.xiaojukeji.com/api/img/i-webview-entrance.png"},buttons:[{type:"share_weixin_timeline",name:"分享到微信朋友圈",data:r.shareConfig,callback:function(){}},{type:"share_weixin_appmsg",name:"分享给微信好友",data:r.shareConfig,callback:function(){}},{type:"share_sina_weibo",name:"分享到新浪微博",data:$.extend({},r.shareConfig,{share_content:r.shareConfig.weibo_desc||r.shareConfig.desc}),callback:function(){}},{type:"share_qq_appmsg",name:"分享给QQ好友",data:r.shareConfig,callback:function(){}},{type:"share_qzone",name:"分享到QQ空间",data:r.shareConfig,callback:function(){}},{type:"page_refresh",name:"刷新"}]}},s.init=function(){r.init()&&(window.ddplayer=o.player=new e(r.playerConfig),r.$btnGet=$("."+r.clsBtnGet),r.$btnShare=$("#"+r.idBtnShare),r.$wrongLayer=$("#"+r.idWrongLayer),s.eventInit(),o.player.htmlTo($("#"+r.playerConId)),i.IsDiDiBrowser&&(o.initEntranceConfig(),a.initEntrance(r.entranceConfig),a.showEntrance(),r.$btnShare.show()),$("body").css("height",$(window).height()))},s.eventInit=function(){var e=s.process;o.player.on("play",function(){r.isPlayed||($("body").addClass("played"),r.$btnGet.hide(),r.isPlayed=!0)}),r.$btnGet.on(i.END_EVENT,function(){o.player&&o.player.$midPlay.trigger(i.END_EVENT)}),o.player.on("ended",function(){return e.ended(),!1}),e.share(),e.orient()},s.process={},s.process.ended=function(){},s.process.share=function(){r.$btnShare.on(i.END_EVENT,function(){a&&a.invokeEntrance()}),initWxShare(r.wxShareConfig)},s.process.orient=function(){$(window).bind("orientationchange",function(){0==window.orientation||180==window.orientation?(r.$wrongLayer.hide(),$("html").removeClass("orientation")):90!=window.orientation&&-90!=window.orientation||r.isPlayed?(o.player.$ctrlFullScreen.trigger(i.END_EVENT),$("html").addClass("orientation")):r.$wrongLayer.show()})},s.init()})};t()});