define("page/trip/main.js",function(e){"use strict";var n=e("ddplayer"),i=n.vars,r=function(){n.ready(function(e){var n=location.href.replace(/[?#].*/g,""),r={param:{playerConId:"playerWrap",playerConfig:{data:window.videoData||{},autoplay:!1},clsBodyBg:"js_body_bg",clsBodyBgPlayed:"js_body_bg_played",clsBtnGet:"js_power_get",idBtnShare:"btnShare",isPlayed:!1,idWrongLayer:"wrongLayer",shareConfig:{link:n,img_url:"http://static.xiaojukeji.com/pinche/release/page/trip/img/share_ed5cb12.jpg",title:"最sexy的城市出行方式！新技能get",desc:"最经济，最有趣！都市出行sexy秘籍！",weibo_desc:"最经济，最有趣！都市出行sexy秘籍！-滴滴 (来自@滴滴顺风车) "+n}},model:{player:null},view:{},ctrl:{}},t=r.param,a=r.model,o=(r.view,r.ctrl);t.init=function(){return $.isFunction(e)?0===$("#"+t.playerConId).length?!1:!0:!1},o.init=function(){t.init()&&(window.ddplayer=a.player=new e(t.playerConfig),t.$btnGet=$("."+t.clsBtnGet),t.$btnShare=$("#"+t.idBtnShare),t.$wrongLayer=$("#"+t.idWrongLayer),o.eventInit(),a.player.htmlTo($("#"+t.playerConId)),i.IsDiDiBrowser&&t.$btnShare.show(),$("body").css("height",$(window).height()))},o.eventInit=function(){var e=o.process;a.player.on("play",function(){t.isPlayed||($("body").addClass("played"),t.$btnGet.hide(),t.isPlayed=!0)}),t.$btnGet.on(i.END_EVENT,function(){a.player&&a.player.$midPlay.trigger(i.END_EVENT)}),a.player.on("ended",function(){return e.ended(),!1}),e.share(),e.orient()},o.process={},o.process.ended=function(){},o.process.share=function(){initDidiShare({showMoreBtn:!0,btn:t.$btnShare,shareConfig:t.shareConfig}),initWxShare(t.shareConfig)},o.process.orient=function(){$(window).bind("orientationchange",function(){0==window.orientation||180==window.orientation?(t.$wrongLayer.hide(),$("html").removeClass("orientation")):90!=window.orientation&&-90!=window.orientation||t.isPlayed?(a.player.$ctrlFullScreen.trigger(i.END_EVENT),$("html").addClass("orientation")):t.$wrongLayer.show()})},o.init()})};r()});