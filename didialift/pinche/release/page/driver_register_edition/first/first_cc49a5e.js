define("page/driver_register_edition/first/first.js",function(e,t){function r(e){return"string"!=typeof e&&(e=e.getAttribute("name")),1==pageParams.filed_list[e].changeable}function a(e){return"string"!=typeof e&&(e=e.getAttribute("name")),3==pageParams.filed_list[e].verify}function i(e,t){t=t||e.attr("name"),e.val(pageParams.filed_list[t]&&pageParams.filed_list[t].value||u.get(t)).attr("disabled",r(t)?null:"")}function n(){function e(e){var t=m.txtToJson(e);if("102"==t.errno)location.replace(pageParams.gologinurl);else if("0"==t.errno)u.clean(),c();else{if("3002"!=t.errno)return"6010"==t.errno?void d.confirm({title:"",text:"该身份证已被注册，如果仍需注册，请进行申诉。",confirm:{val:"我要申诉",handler:function(){location.href="http://static.xiaojukeji.com/didialift/hybrid/pages/help/help-accountDatumOQ06.html"}}}):"6009"==t.errno?void d.confirm({title:"",text:"车辆已被注册。如果不是你本人或熟人操作，你可以通过申诉来进行车主认证。",confirm:{val:"我要申诉",handler:function(){location.href="http://static.xiaojukeji.com/didialift/hybrid/pages/help/help-accountDatumOQ07.html"}}}):d.alert(t.errmsg||"");u.clean(),c()}s.closeLoading()}_.show_step_carownerinfo();var n=g.find("#txt_licence"),o=g.find("#txt_realname");i(o),i(n),o.on("blur",function(){var e=g.find("#txt_realname").val();s.regular.is_Chinese_name(e)===!1?(s.warning("请填写正确的中文姓名"),s.warning_text(o)):u.save_cache(this.getAttribute("name"),e),l()}),n.on("blur",function(){var e=g.find("#txt_licence").val();s.regular.is_ID_card(e)===!1?(s.warning("请填写正确的身份证号码"),s.warning_text(n)):u.save_cache(this.getAttribute("name"),e),l()});var f=o.attr("name");a(f)&&r(f)&&g.addClass("verify_failed"),g.find(".next_btn").on("click",function(){var r=t.check_filed();if(0!=r){var a=$.extend({step:1,token:pageParams.upload_data.token,regfrom:pageParams.regfrom,source:pageParams.source},r);s.showLoading(),$.ajax({type:"GET",url:pageParams.reg_url,data:a,success:e,error:function(){d.alert("网络有点不给力，请稍后再试哦~")}})}});var d=dd.dialog,m=dd.base;g.one("touchstart",function(){g.removeClass("verify_failed")})}function l(){for(var e=0;e<m.length;e++)if(r(m[e])!==!1&&s.regular[v[e]](m[e].value)===!1)return g.trigger("is_full_fill",!1),!1;g.trigger("is_full_fill",!0)}var o,c,s=e("page/driver_register_edition/tool.js"),f=dd.dialog,u=s.localCache.instance("driver_register_first"),d=!1,g=t.$container=$(".form_first"),_=e("page/driver_register_edition/log/log.js");t.wakeup=function(e,t,r){c=function(){s.warning.close(),t()},o=function(){s.warning.close(),r()},d===!1&&(d=!0,n(),l())},t.check_filed=function(){var e=g.find("#txt_realname"),t=g.find("#txt_licence"),a=e.val(),i=t.val();if(s.regular.is_Chinese_name(a)===!1&&r(e.attr("name")))return f.alert({title:"",tip:"请填写正确的中文姓名",btn:{handler:function(){}}}),!1;if(s.regular.is_ID_card(i)===!1&&r(t.attr("name")))return f.alert({title:"",tip:"请填写正确的身份证号码",btn:{handler:function(){}}}),!1;var n={};return r(e.attr("name"))&&(n.drivelicensename=a),r(t.attr("name"))&&(n.drivelicensenumber=i),n};var m=[txt_realname,txt_licence],v=["is_Chinese_name","is_ID_card"]});