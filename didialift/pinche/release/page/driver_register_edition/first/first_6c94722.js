define("page/driver_register_edition/first/first.js",function(e,t){function a(e){return"string"!=typeof e&&(e=e.getAttribute("name")),1==pageParams.filed_list[e].changeable}function r(e){return"string"!=typeof e&&(e=e.getAttribute("name")),3==pageParams.filed_list[e].verify}function n(e,t){t=t||e.attr("name"),e.val(pageParams.filed_list[t]&&pageParams.filed_list[t].value||u.get(t)).attr("disabled",a(t)?null:"")}function i(){function e(e){var t=_.txtToJson(e);if("102"==t.errno)location.replace(pageParams.gologinurl);else if("0"==t.errno)u.clean(),c();else{if("3002"!=t.errno)return"6010"==t.errno?void d.confirm({title:"",text:"该身份证已被注册，如果仍需注册，请进行申诉。",confirm:{val:"我要申诉",handler:function(){location.href="http://static.xiaojukeji.com/didialift/hybrid/pages/help/help-accountDatumOQ06.html"}}}):"6009"==t.errno?void d.confirm({title:"",text:"车辆已被注册。如果不是你本人或熟人操作，你可以通过申诉来进行车主认证。",confirm:{val:"我要申诉",handler:function(){location.href="http://static.xiaojukeji.com/didialift/hybrid/pages/help/help-accountDatumOQ07.html"}}}):d.alert(t.errmsg||"");u.clean(),c()}f.closeLoading()}var i=g.find("#txt_licence"),o=g.find("#txt_realname");n(o),n(i),o.on("blur",function(){var e=g.find("#txt_realname").val();f.regular.is_Chinese_name(e)===!1?(f.warning("请填写正确的中文姓名"),f.warning_text(o)):u.save_cache(this.getAttribute("name"),e),l()}),i.on("blur",function(){var e=g.find("#txt_licence").val();f.regular.is_ID_card(e)===!1?(f.warning("请填写正确的身份证号码"),f.warning_text(i)):u.save_cache(this.getAttribute("name"),e),l()});var s=o.attr("name");r(s)&&a(s)&&g.addClass("verify_failed"),g.find(".next_btn").on("click",function(){var a=t.check_filed();if(0!=a){var r=$.extend({step:1,token:pageParams.upload_data.token,regfrom:pageParams.regfrom,source:pageParams.source},a);f.showLoading(),$.ajax({type:"GET",url:pageParams.reg_url,data:r,success:e,error:function(){d.alert("网络有点不给力，请稍后再试哦~")}})}});var d=dd.dialog,_=dd.base;g.one("touchstart",function(){g.removeClass("verify_failed")})}function l(){for(var e=0;e<_.length;e++)if(a(_[e])!==!1&&f.regular[m[e]](_[e].value)===!1)return g.trigger("is_full_fill",!1),!1;g.trigger("is_full_fill",!0)}var o,c,f=e("page/driver_register_edition/tool.js"),s=dd.dialog,u=f.localCache.instance("driver_register_first"),d=!1,g=t.$container=$(".form_first");t.wakeup=function(e,t,a){c=function(){f.warning.close(),t()},o=function(){f.warning.close(),a()},d===!1&&(d=!0,i(),l())},t.check_filed=function(){var e=g.find("#txt_realname"),t=g.find("#txt_licence"),r=e.val(),n=t.val();if(f.regular.is_Chinese_name(r)===!1&&a(e.attr("name")))return s.alert({title:"",tip:"请填写正确的中文姓名",btn:{handler:function(){}}}),!1;if(f.regular.is_ID_card(n)===!1&&a(t.attr("name")))return s.alert({title:"",tip:"请填写正确的身份证号码",btn:{handler:function(){}}}),!1;var i={};return a(e.attr("name"))&&(i.drivelicensename=r),a(t.attr("name"))&&(i.drivelicensenumber=n),i};var _=[txt_realname,txt_licence],m=["is_Chinese_name","is_ID_card"]});