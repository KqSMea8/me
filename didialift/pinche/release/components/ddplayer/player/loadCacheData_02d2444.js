define("ddplayer/player/loadCacheData.js",function(t,e,i){"use strict";var r=t("ddplayer/base/vars.js"),s=(t("cookie"),t("ddplayer/base/special.js"),{vid:"",elemId:"",poster:"",posterType:"",mediaType:"",modeType:"",modeTypeList:[],srcType:"",width:"",height:"",volume:0,curPlayUrl:"",srcList:{},pointList:[],autoplay:!1,defControls:!1,loop:!1,preload:!1,title:"",duration:0,curIndex:-1,totCounts:-1,history:{},ipLimit:"",liveEnName:"",liveIcon:"",liveId:"",timeLimit:-1,liveUrl:"",vidList:[],vidCurIndex:-1,debug:!1,mainActor:"",latestCount:"",desc:"",oriUrls:null,fullscreenType:0,isRemHistory:!1,modeList:["nor","hig","sup","app"]}),n=function(t,e){$.extend(this,s),$.merge(this,t),$.isUndefined(e)||this._initVOD(e)};n.prototype.getPlayList=function(){return this.srcList[this.modeType]||[]},n.prototype.getNextUrl=function(){var t=this.getPlayList(),e=this.curIndex+1,i=t[e];return $.isUndefined(i)?"":i.url},n.prototype.getFirstUrl=function(){var t=this.getPlayList(),e=t[0];return $.isUndefined(e)?"":e.url},n.prototype._initVOD=function(t){var e=this;e.poster="horizon"===e.posterType?t.horHighPic||t.verHighPic||"":t.verHighPic||t.horHighPic||"";var i=t.totalDuration||t.total_duration||0;e.duration=parseInt(i,10),e.timeLimit>-1&&e.timeLimit<e.duration&&(e.duration=e.timeLimit),e.title=t.tvname||t.videoName||t.video_name||"",e.mainActor=t.main_actor||"",e.latestCount=t.latest_video_count||"",e.desc=t.video_desc||"",e.srcType=t.srcType||"mp4",$.isUndefined(t.urls)||(e.oriUrls=t.urls),!$.isUndefined(t.ep)&&t.ep instanceof Array&&$.each(t.ep,function(t,i){var r={};r.time=parseInt(i.k,10),r.desc=i.v,e.pointList.push(r)}),e.vid=t.vid;var s=!1;if(!$.isUndefined(t.urls)){var n=t.urls[e.srcType],o=t.durations;for(var a in n)e.srcList[a]=[],n[a]instanceof Array&&$.each(n[a],function(i,r){var s={};s.url=r,s.duration="m3u8"===e.srcType?t.totalDuration||t.total_duration||-1:parseInt(o[a][i]||-1,10),e.srcList[a].push(s)}),!s&&e.srcList[a].length>0&&(s=!0,e.totCounts=e.srcList[a].length);var d=function(){var i={};i.url="",$.isUndefined(t.urls.downloadUrl)||(i.url=t.urls.downloadUrl[0]||""),i.duration=parseInt(e.duration||-1,10),e.srcType="mp4",e.modeType=e.modeType,e.srcList.nor=[i],e.totCounts=e.srcList.nor.length};s||"client"===e.srcType||d(),e.totCounts>0&&(e.curIndex=0),!r.IsIphone&&r.IsUCBrowser&&"client"!==e.srcType&&d(),/Android 2./i.test(r.UA)&&d(),e._initCurPlayUrlAndModeType()}},n.prototype._initCurPlayUrlAndModeType=function(){var t=this,e=t.getPlayList(),i=this.modeList;$.each(i,function(i,r){if(!$.isUndefined(t.srcList[r])&&t.srcList[r].length>0){if(0===e.length)return t.modeType=r,!1;t.modeTypeList.push(r)}}),$(i).indexOf("app")>-1&&this.modeTypeList.push("app"),e=this.getPlayList(),e.length>0&&(this.curPlayUrl=e[0].url)},i.exports=n});