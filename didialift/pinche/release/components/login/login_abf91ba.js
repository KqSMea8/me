define("login",function(n,t){function e(){var n=r.regular.is_phone_number(u.val()),t=/^\d{4}$/,e=t.test(c.val());s.hasClass("ontime")||(n?s.removeClass("btnGray"):s.addClass("btnGray")),n&&e?l.removeClass("btnGray"):l.addClass("btnGray")}var i,o,a=n("dd"),r=n("tool"),d=$(".login_container"),s=d.find("#btn_sendmsm"),l=d.find("#btn_login"),u=d.find("#phoneno"),c=d.find("#msmcode"),m=function(){function n(){var n=document.documentElement.clientHeight,e=document.documentElement.clientWidth;t=$("<div></div>").css({background:"rgba(0,0,0,0.5)",width:e,height:n,position:"fixed",top:0,left:0,"z-index":100}).appendTo("body")}var t;return function(){return t||n(),t}}(),v=function(){var n=60;return function(){return 0==n?(s.removeClass("btnGray").removeClass("ontime"),s.val("验证"),void(n=60)):(s.addClass("btnGray").addClass("ontime"),s.val(n+"s"),n--,void setTimeout(function(){v()},1e3))}}();s.bind("click",function(){if(!s.hasClass("btnGray")){{$(this)}if(!r.regular.is_phone_number(u.val()))return a.dialog.alert("手机号填写有误"),void u.addClass("err_inp");var n=u.val();i(n,c),v()}}),l.bind("click",function(){if(!l.hasClass("btnGray")){{$(this)}if(!r.regular.is_phone_number(u.val()))return a.dialog.alert("手机号填写有误"),void u.addClass("err_inp");var n=u.val(),t=c.val();o(n,t)}}),d.find("#login_close").click(function(){f()}),u.get(0).addEventListener("input",function(){e()}),c.get(0).addEventListener("input",function(){e()});var f=(t.show=function(){m().show(),d.show();var n=document.documentElement.clientHeight,t=(document.documentElement.clientWidth,d.height()),e=(n-t)/2;d.css({top:e});var a={sendmsm:function(n){return i=n,a},commit:function(n){return o=n,a}};return a},t.hide=function(){m().hide(),d.hide()})});