define("login",function(n,t){function e(){var n=d.regular.is_phone_number(u.val()),t=/^\d{4}$/,e=t.test(m.val());l.hasClass("ontime")||(n?l.removeClass("btnGray"):l.addClass("btnGray")),n&&e?c.removeClass("btnGray"):c.addClass("btnGray")}var i,o,a=n("dd"),d=n("tool"),r=n("driver_register_tool"),s=$(".login_container"),l=s.find("#btn_sendmsm"),c=s.find("#btn_login"),u=s.find("#phoneno"),m=s.find("#msmcode"),v=function(){var n=60;return function(){return 0==n?(l.removeClass("btnGray").removeClass("ontime"),l.val("验证"),void(n=60)):(l.addClass("btnGray").addClass("ontime"),l.val(n+"s"),n--,void setTimeout(function(){v()},1e3))}}();l.bind("click",function(){if(!l.hasClass("btnGray")){{$(this)}if(!d.regular.is_phone_number(u.val()))return a.dialog.alert("手机号填写有误"),void u.addClass("err_inp");var n=u.val();i(n,m),v()}}),c.bind("click",function(){if(!c.hasClass("btnGray")){{$(this)}if(!d.regular.is_phone_number(u.val()))return a.dialog.alert("手机号填写有误"),void u.addClass("err_inp");var n=u.val(),t=m.val();o(n,t)}}),s.find("#login_close").click(function(){b()}),u.get(0).addEventListener("input",function(){e()}),m.get(0).addEventListener("input",function(){e()});var f=function(){var n=document.documentElement.clientHeight,t=(document.documentElement.clientWidth,s.height()),e=(n-t)/2;s.css({top:e+document.body.scrollTop})},h=function(){function n(){e=$("<div></div>").appendTo("body")}function t(){var n=Math.max(document.documentElement.clientHeight,document.body.clientHeight)+50,t=Math.max(document.documentElement.clientWidth,document.body.clientWidth);e.css({background:"rgba(0,0,0,0.5)",width:t,height:n,position:"absolute",top:0,left:0,"z-index":100})}var e;return function(){return e||n(),t(),e}}(),b=(t.show=function(){h().show(),r.showLoading(),setTimeout(function(){h().show(),r.closeLoading(),s.show(),f()},1e3);var n={sendmsm:function(t){return i=t,n},commit:function(t){return o=t,n}};return n},t.hide=function(){h().hide(),s.hide()})});