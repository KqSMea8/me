define("login",function(n,t){function e(){var n=d.regular.is_phone_number(c.val()),t=/^\d{4}$/,e=t.test(u.val());s.hasClass("ontime")||(n?s.removeClass("btnGray"):s.addClass("btnGray")),n&&e?l.removeClass("btnGray"):l.addClass("btnGray")}var i,o,a=n("dd"),d=n("tool"),r=$(".login_container"),s=r.find("#btn_sendmsm"),l=r.find("#btn_login"),c=r.find("#phoneno"),u=r.find("#msmcode"),m=function(){var n=60;return function(){return 0==n?(s.removeClass("btnGray").removeClass("ontime"),s.val("验证"),void(n=60)):(s.addClass("btnGray").addClass("ontime"),s.val(n+"s"),n--,void setTimeout(function(){m()},1e3))}}();s.bind("click",function(){if(!s.hasClass("btnGray")){{$(this)}if(!d.regular.is_phone_number(c.val()))return a.dialog.alert("手机号填写有误"),void c.addClass("err_inp");var n=c.val();i(n,u),m()}}),l.bind("click",function(){if(!l.hasClass("btnGray")){{$(this)}if(!d.regular.is_phone_number(c.val()))return a.dialog.alert("手机号填写有误"),void c.addClass("err_inp");var n=c.val(),t=u.val();o(n,t)}}),r.find("#login_close").click(function(){h()}),c.get(0).addEventListener("input",function(){e()}),u.get(0).addEventListener("input",function(){e()});var f=function(){var n=document.documentElement.clientHeight,t=(document.documentElement.clientWidth,r.height()),e=(n-t)/2;r.css({top:e+document.body.scrollTop})},v=function(){function n(){e=$("<div></div>").appendTo("body")}function t(){var n=Math.max(document.documentElement.clientHeight,document.body.clientHeight)+50,t=Math.max(document.documentElement.clientWidth,document.body.clientWidth);e.css({background:"rgba(0,0,0,0.5)",width:t,height:n,position:"absolute",top:0,left:0,"z-index":100})}var e;return function(){return e||n(),t(),e}}(),h=(t.show=function(){v().show(),d.showLoading(),setTimeout(function(){v().show(),d.closeLoading(),r.show(),f()},1e3);var n={sendmsm:function(t){return i=t,n},commit:function(t){return o=t,n}};return n},t.hide=function(){v().hide(),r.hide()})});