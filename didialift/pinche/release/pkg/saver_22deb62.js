define("SingleSelector",function(e,t,l){{var n=e("dd"),a=n.base,o=function(){for(var e=document.getElementsByClassName("select-wall"),t=0,l=e.length;l>t;t++)document.body.removeChild(e[t])},s=function(){var e=document.createElement("div");e.id="d-wall",e.className="select-wall",e.style.width=document.clientWidth+"px",e.style.height=document.body.scrollHeight+"px",document.body.appendChild(e)};l.exports=function(e,t,l,n){function i(e){var t=0,l=0;e.addEventListener("touchstart",function(e){if(e.preventDefault(),!e.touches.length)return!1;var l=e.touches[0];t=l.pageY-this.offsetTop},!1),e.addEventListener("touchmove",function(e){if(e.preventDefault(),!e.touches.length)return!1;var n=e.touches[0],a=n.pageY-this.offsetTop;l=t-a,t=a,this.scrollTop+=l},!1),e.addEventListener("touchend",function(e){if(e.preventDefault(),!e.changedTouches.length)return!1;t=0,l=0;var n=this.scrollTop,a=n%44;22>a?this.scrollTop-=a:this.scrollTop+=44-a},!1)}var r=l||[],c=[],u=t.getElementsByClassName("cancel")[0],d=t.getElementsByClassName("confirm")[0],h=t.getElementsByClassName("options");a.touch(e,function(){for(var e=document.getElementsByClassName("select"),n=0,a=e.length;a>n;n++)e[n].style.display="none";t.style.display="block",s();for(var o=null,i="",r=null,c=0,u=h.length;u>c;c++){o=h[c],i=l[c],r=o.getElementsByTagName("li");for(var d=0,v=r.length;v>d;d++)r[d].getAttribute("data-id")==i&&(o.scrollTop=44*d)}},!1),u.addEventListener("click",function(){t.style.display="none",o()},!1);d.addEventListener("click",function(){for(var l=null,a=null,s=0,i=h.length;i>s;s++){l=h[s];var u=l.scrollTop/44,a=l.getElementsByTagName("li")[u];r[s]=a.getAttribute("data-id"),c[s]=a.getAttribute("data-show")}var d=e.value;e.value=c.join(""),e.setAttribute("data-id",r.join("")),d!=e.value&&n({value:e.getAttribute("data-id"),text:e.value}),t.style.display="none",o()},!1);for(var v=0,f=h.length;f>v;v++)i(h[v],v)}}});
;define("login",function(n,t){function e(){var n=d.regular.is_phone_number(c.val()),t=/^\d{4}$/,e=t.test(u.val());s.hasClass("ontime")||(n?s.removeClass("btnGray"):s.addClass("btnGray")),n&&e?l.removeClass("btnGray"):l.addClass("btnGray")}var i,o,a=n("dd"),d=n("tool"),r=$(".login_container"),s=r.find("#btn_sendmsm"),l=r.find("#btn_login"),c=r.find("#phoneno"),u=r.find("#msmcode"),m=function(){var n=60;return function(){return 0==n?(s.removeClass("btnGray").removeClass("ontime"),s.val("验证"),void(n=60)):(s.addClass("btnGray").addClass("ontime"),s.val(n+"s"),n--,void setTimeout(function(){m()},1e3))}}();s.bind("click",function(){if(!s.hasClass("btnGray")){{$(this)}if(!d.regular.is_phone_number(c.val()))return a.dialog.alert("手机号填写有误"),void c.addClass("err_inp");var n=c.val();i(n,u),m()}}),l.bind("click",function(){if(!l.hasClass("btnGray")){{$(this)}if(!d.regular.is_phone_number(c.val()))return a.dialog.alert("手机号填写有误"),void c.addClass("err_inp");var n=c.val(),t=u.val();o(n,t)}}),r.find("#login_close").click(function(){h()}),c.get(0).addEventListener("input",function(){e()}),u.get(0).addEventListener("input",function(){e()});var f=function(){var n=document.documentElement.clientHeight,t=(document.documentElement.clientWidth,r.height()),e=(n-t)/2;r.css({top:e+document.body.scrollTop})},v=function(){function n(){e=$("<div></div>").appendTo("body")}function t(){var n=Math.max(document.documentElement.clientHeight,document.body.clientHeight)+50,t=Math.max(document.documentElement.clientWidth,document.body.clientWidth);e.css({background:"rgba(0,0,0,0.5)",width:t,height:n,position:"absolute",top:0,left:0,"z-index":100})}var e;return function(){return e||n(),t(),e}}(),h=(t.show=function(){v().show(),d.showLoading(),setTimeout(function(){v().show(),d.closeLoading(),r.show(),f()},1e3);var n={sendmsm:function(t){return i=t,n},commit:function(t){return o=t,n}};return n},t.hide=function(){v().hide(),r.hide()})});
;define("page/driver_register_saver_index/monitor-log.js",function(e,n){var i=DidiMonitor.sendBeatles;n.saverindex_page_sw=function(){i("saverindex-150915_page_sw")},n.saverindex_button_ck=function(){i("saverindex-150915_button_ck",{},!0)},n.saverindex_inputbox_focus_cartype=function(){i("saverindex-150915_inputbox_focus",{A:"cartype"})},n.saverindex_inputbox_focus_carcardnumber=function(){i("saverindex-150915_inputbox_focus",{A:"carcardnumber"})},n.saverindex_inputbox_focus_drivelicensename=function(){i("saverindex-150915_inputbox_focus",{A:"drivelicensename"})},n.saverindex_inputbox_focus_drivelicensenumber=function(){i("saverindex-150915_inputbox_focus",{A:"drivelicensenumber"})},n.saverindex_inputbox_focus_carnoprovince=function(){i("saverindex-150915_inputbox_focus",{A:"carnoprovince"})},n.saverindex_idcardhasregisted_sw=function(){i("saverindex-150915_idcardhasregisted_sw")},n.saverindex_idcardhasregistedcancel_ck=function(){i("saverindex-150915_idcardhasregistedcancel_ck")},n.saverindex_loginsendmsm_ck=function(){i("saverindex-150915_loginsendmsm_ck",{})},n.saverindex_loginsubmit_ck=function(){i("saverindex-150915_loginsubmit_ck",{})}});
;define("page/driver_register_saver_index/main.js",function(a){function e(){var a=pageParams.form_data;for(var e in a){var r=a[e];r.zhvalue=r.zhvalue||m.get(e).zhvalue||"",r.value=r.value||m.get(e).value||""}var c=[a.carbrandid.zhvalue,a.cartypeid.zhvalue,a.carcolorid.zhvalue],t=$("#carbrand");t.val($.trim(c.join(" "))||m.get("brand_type_color_zhvalue")).data("carbrandid",a.carbrandid.value).data("cartypeid",a.cartypeid.value).data("carcolorid",a.carcolorid.value),1!=a.carbrandid.changeable?t.attr("readonly","").parent().parent().addClass("disabled"):n(),1!=a.carprovinceid.changeable?$("#carprovince").attr("disabled","").parent().parent().addClass("disabled"):i(),$("#carno").val(a.carcardnumber.value),1!=a.carcardnumber.changeable&&$("#carno").attr("disabled","").parent().parent().addClass("disabled"),$("#drivelicensename").val(a.drivelicensename.value),1!=a.drivelicensename.changeable&&$("#drivelicensename").attr("disabled","").parent().parent().addClass("disabled"),$("#drivelicensenumber").val(a.drivelicensenumber.value),1!=a.drivelicensenumber.changeable&&$("#drivelicensenumber").attr("disabled","").parent().parent().addClass("disabled")}function r(a,e,r){var n=g();n&&(r&&(n.token=r),d.showLoading(),$.ajax({url:a,data:n,success:function(a){if(d.closeLoading(),a=JSON.parse(a),0==a.errno)location.assign(e);else if(101==a.errno)v();else{if("6010"==a.errno)return o.saverindex_idcardhasregisted_sw(),void t.dialog.confirm({title:"",text:"该身份证已被注册，如果仍需注册，请进行申诉。",confirm:{val:"我要申诉",handler:function(){location.href="http://static.xiaojukeji.com/didialift/hybrid/pages/help/help-accountDatumOQ06.html"}},cancel:{handler:function(){o.saverindex_idcardhasregistedcancel_ck()}}});if("6009"==a.errno)return void t.dialog.confirm({title:"",text:"车辆已被注册。如果不是你本人或熟人操作，你可以通过申诉来进行车主认证。",confirm:{val:"我要申诉",handler:function(){location.href="http://static.xiaojukeji.com/didialift/hybrid/pages/help/help-accountDatumOQ07.html"}}});t.dialog.alert(a.errmsg)}}}))}function n(){function e(){$("#carbrand").click(function(){u.log("cartype"),$.didiCarChoose({brandsURL:pageParams.getcarbrand,typesURL:pageParams.getcartype,colorsURL:pageParams.getcolor,onselect:function(a){$("#carbrand").val(a.carInfo).data("carbrandid",a.value.brand.id).data("cartypeid",a.value.type.id).data("carcolorid",a.value.color.id),m.save_cache("carbrandid",{value:a.value.brand.id}),m.save_cache("cartypeid",{value:a.value.type.id}),m.save_cache("carcolorid",{value:a.value.color.id}),m.save_cache("brand_type_color_zhvalue",a.carInfo)}})})}a.async("carchoose",e)}function i(){function a(a){var n=r.txtToJson(a),i=0==pageParams.form_data.carprovinceid.value?1:pageParams.form_data.carprovinceid.value;if($("#carprovince").val(n.data[i]),"0"==n.errno){for(var t=n.data,o=n.sort,d="",s=0,u=o.length;u>s;s++)d+='<li data-id="'+o[s]+'" data-show="'+t[o[s]]+'">'+t[o[s]]+"</li>";ulEl.innerHTML+=d}l(carprovince,e,[],function(a){c(),$("#carprovince").data("id",a.value),$("#carprovince").val(a.text),m.save_cache("carprovinceid",{value:a.value,zhvalue:a.text})})}var e=document.getElementById("carnoSelect"),r=t.base;ulEl=e.getElementsByClassName("options")[0];var n=function(){r.ajax({method:"POST",url:"/pinche/cartype/getlicensehead",succFunc:a,failFunc:function(){}})};n()}function c(){f||(o.saverindex_inputbox_focus_carnoprovince(),f=!0)}var t=a("dd"),o=a("page/driver_register_saver_index/monitor-log.js"),l=a("SingleSelector"),d=a("tool"),s=a("login");o.saverindex_page_sw();var u=function(){var a=[];return{log:function(e){for(var r=0;r<a.length;r++)if(a[r]==e)return;a.push(e),o["saverindex_inputbox_focus_"+e]()}}}(),v=function(){s.show().sendmsm(function(a,e){d.showLoading(),o.saverindex_loginsendmsm_ck(),$.ajax({url:pageParams.p_getsmscode_url+a,timeout:"5000",success:function(a){d.closeLoading();var a=JSON.parse(a);0==a.errno?e.focus():1008==a.errno?(t.dialog.alert("您将来接到电话通知您验证码，请注意查收"),e.focus()):(btnCheck.removeClass("btnGray"),phone.disabled="false",t.dialog.alert(a.errmsg))},error:function(){d.closeLoading(),t.dialog.alert("网络请求失败，请稍后重试"),phone.disabled="false",_this.removeClass("btnGray")}})}).commit(function(a,e){d.showLoading(),o.saverindex_loginsubmit_ck(),$.ajax({type:"POST",url:pageParams.p_login_url,data:{phone:a,code:e},timeout:"5000",success:function(a){d.closeLoading();var a=JSON.parse(a);if(0==a.errno)window.location.href=pageParams.success_url;else if(101==a.errno){s.hide(),1==a.regist&&(pageParams.form_data.drivelicensename.changeable=0,pageParams.form_data.drivelicensenumber.changeable=0);var e=a.commit_url,n=a.next_url,i=a.token;r(e,n,i),pageParams.commit_url=e,pageParams.token=i}else{if(102!=a.errno)return dialog.alert(da.errmsg||"");location.href=a.next_url}},error:function(){_this.removeClass("btnGray")}})})},m=d.localCache.instance("driver_register_saver_form");e();var g=function(){var a={};return pageParams.form_data.carbrandid.changeable&&(a.carbrandid=$("#carbrand").data("carbrandid")),pageParams.form_data.cartypeid.changeable&&(a.cartypeid=$("#carbrand").data("cartypeid")),pageParams.form_data.carcolorid.changeable&&(a.carcolorid=$("#carbrand").data("carcolorid")),pageParams.form_data.carprovinceid.changeable&&(a.carprovinceid=$("#carprovince").data("id")),pageParams.form_data.carcardnumber.changeable&&(a.carcardnumber=$("#carno").val()),pageParams.form_data.drivelicensename.changeable&&(a.drivelicensename=$("#drivelicensename").val()),pageParams.form_data.drivelicensenumber.changeable&&(a.drivelicensenumber=$("#drivelicensenumber").val()),pageParams.form_data.carbrandid.changeable&&""==a.carbrandid?(t.dialog.alert("请选择品牌和车型"),!1):pageParams.form_data.carprovinceid.changeable&&!d.regular.is_carNo(a.carcardnumber)?(t.dialog.alert("请输入正确的车牌号"),!1):pageParams.form_data.drivelicensename.changeable&&!d.regular.is_Chinese_name(a.drivelicensename)?(t.dialog.alert("请输入正确的驾驶人姓名"),!1):pageParams.form_data.drivelicensenumber.changeable&&!d.regular.is_ID_card(a.drivelicensenumber)?(t.dialog.alert("请输入正确的驾驶证号"),!1):a},p=!1;$("#submit").click(function(){p||(o.saverindex_button_ck(),p=!0);var a=pageParams.commit_url,e=pageParams.success_url,n=pageParams.token,i=""!=pageParams.token&&0!=pageParams.token;if(i)r(a,e,n);else{var c=g();if(!c)return;v()}}),$("#carno").on("blur",function(){$("#carno").val($("#carno").val().toUpperCase())},!1),$("#carno").blur(function(){var a=$(this).attr("name"),e=$(this).val();m.save_cache(a,{value:e})}),$("#drivelicensename").blur(function(){var a=$(this).attr("name"),e=$(this).val();m.save_cache(a,{value:e})}),$("#drivelicensenumber").blur(function(){var a=$(this).attr("name"),e=$(this).val();m.save_cache(a,{value:e})}),$("#carno").focus(function(){var a=$(this).attr("name");u.log(a)}),$("#drivelicensename").focus(function(){var a=$(this).attr("name");u.log(a)}),$("#drivelicensenumber").focus(function(){var a=$(this).attr("name");u.log(a)});var f=!1});