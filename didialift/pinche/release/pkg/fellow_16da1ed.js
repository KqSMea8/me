define("cookie",function(e,t,i){"use strict";var s={isEnabled:!1,set:function(e,t,i,s){var n="";if(0!==i){var o=new Date;o.setTime(o.getTime()+36e5*(i||24)),n=";expires="+o.toGMTString()}var r=escape(e)+"="+escape(t)+n+";path=/"+(s?";domain="+s:"");return document.cookie=r,!0},get:function(e){for(var t,i=document.cookie.split(";"),s=0;s<i.length;s++)if(t=i[s].split("="),t[0].trim()===e)return unescape(t[1]);return""},del:function(e,t,i){var s=new Date;s.setTime(s.getTime()-1),document.cookie=e+"=; expires="+s.toGMTString()+";"+(i?"path="+i+"; ":"path=/; ")+(t?"domain="+t+";":"domain="+window.location.host+";")},test:function(){var e="_c_t_";return this.set(e,"1"),this.isEnabled="1"===this.get(e),this.del(e),this.isEnabled},serialize:function(e){return JSON.stringify(e)},deserialize:function(e){if("string"!=typeof e)return e;try{return JSON.parse(e)}catch(t){return e||{}}},setSession:function(e,t){try{window.sessionStorage&&window.sessionStorage.setItem(e,this.serialize(t))}catch(i){alert("not support session",i),this.set(e,this.serialize(t),24)}},getSession:function(e){var t="";try{window.sessionStorage&&(t=this.deserialize(window.sessionStorage.getItem(e)))}catch(i){alert("not support session",i),t=this.deserialize(this.get(e))}return t}};s.test(),window.Cookie=s,i.exports=s});
;define("store",function(e,t,r){"use strict";var n,a={},i=window,o=document,c="localStorage",u="script";try{n=i[c]}catch(l){}var f=function(){};a.disabled=!1,a.set=f,a.get=f,a.remove=f,a.clear=f,a.transact=function(e,t,r){var n=a.get(e);null===r&&(r=t,t=null),"undefined"==typeof n&&(n=t||{}),r(n),a.set(e,n)},a.getAll=function(){},a.forEach=function(){},a.serialize=function(e){return JSON.stringify(e)},a.deserialize=function(e){if("string"!=typeof e)return void 0;try{return JSON.parse(e)}catch(t){return e||void 0}};var s=function(){try{return c in i&&i[c]}catch(e){return!1}};if(s())n=i[c],a.set=function(e,t){return void 0===t?a.remove(e):(n.setItem(e,a.serialize(t)),t)},a.get=function(e){return a.deserialize(n.getItem(e))},a.remove=function(e){n.removeItem(e)},a.clearAll=function(){n.clear()},a.forEach=function(e){for(var t=0;t<n.length;t++){var r=n.key(t);e(r,a.get(r))}};else if(o.documentElement.addBehavior){var d,v;try{v=new ActiveXObject("htmlfile"),v.open();var m="<"+u+">document.w=window</"+u+">";m+='<iframe src="/favicon.ico"></iframe>',v.write(m),v.close(),d=v.w.frames[0].document,n=d.createElement("div")}catch(l){n=o.createElement("div"),d=o.body}var g=function(e){var t=function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(n),d.appendChild(n),n.addBehavior("#default#userData"),n.load(c);var r=e.apply(a,t);return d.removeChild(n),r};return t},h=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),p=function(e){return e.replace(/^d/,"___$&").replace(h,"___")};a.set=g(function(e,t,r){return t=p(t),void 0===r?a.remove(t):(e.setAttribute(t,a.serialize(r)),e.save(c),r)}),a.get=g(function(e,t){return t=p(t),a.deserialize(e.getAttribute(t))}),a.remove=g(function(e,t){t=p(t),e.removeAttribute(t),e.save(c)}),a.clear=g(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(c);for(var r=0,n=t.length;n>r;r++){var a=t[r];e.removeAttribute(a.name)}e.save(c)}),a.forEach=g(function(e,t){for(var r=e.XMLDocument.documentElement.attributes,n=0,i=r.length;i>n;n++){var o=r[n];t(o.name,a.deserialize(e.getAttribute(o.name)))}})}a.getAll=function(){var e={};return a.forEach(function(t,r){e[t]=r}),e};try{var b="__storejs__";a.set(b,b),a.get(b)!==b&&(a.disabled=!0),a.remove(b)}catch(l){a.disabled=!0}a.enabled=!a.disabled,a.getStorage=function(){try{n=i[c]}catch(e){console.log("localStorage is not supported")}return n},a.clear=function(e){var t=a.getStorage();if(t)if(e)for(var r in t)0===r.indexOf(e)&&t.removeItem(r);else t.clear()},window.Store=a,r.exports=a});
;define("didibridge",function(require,exports,module){!function(e,i){"function"==typeof define&&define.amd?define(["exports"],function(e){i(e)}):"undefined"!=typeof exports?i(exports):e.DidiBridge=i({})}(this,function(DidiBridge){function findAction(e){var i=syncCallsWithoutParams.concat(syncCallsWithParams,asyncCallsWithParams);if(!e)return null;for(var n=0;n<i.length;n++)if(i[n].method==e||i[n].alia==e)return i[n];return null}function check(e){if("string"==typeof e&&e&&(e=findAction(e)),!e)return!1;for(var i=getAppVersion(),n=e.version.split(/\s*,\s*/),t=[],r=0;r<n.length;r++)t.push(n[r].split(/\s+/));var a=t[0];"*"==a[0]&&3==a.length?(a[0]="ios",t.push(["android",a[1],a[2]])):"*"==a[0]&&1==a.length?(t.length=0,t=[["ios",">","0"],["android",">","0"]]):"*"!=a[0]&&1==a.length?(t.length=0,t=[[a[0],">","0"],["ios"==a[0]?"android":"ios","<","0"]]):1==t.length&&t.push(["ios"==a[0]?"android":"ios","<","0"]);for(var o,s,r=0;r<t.length;r++)if(a=t[r],s="ios"==a[0]?isIOS:"android"==a[0]?isAndroid:!1,o=compareVersion(i,a[1],a[2]),s&&o)return e;return!1}function _extend(e,i){for(var n in i)e[n]=i[n];return e}function getAppVersion(e){var i=ua;if("object"==typeof e)return e;switch("string"==typeof e&&(i="didi.passenger/"+e),e=(/didi\.passenger\/([\d.]+)/.test(i)?RegExp.$1:"0.0.0").split("."),e.length){case 1:e[1]=e[2]=0;break;case 2:e[2]=0}return{main:e[0]-0,sub:e[1]-0,mini:e[2]-0}}function parseVersionToInt(e){var i=0;return e=getAppVersion(e),i+=1e4*e.main,i+=100*e.sub,i+=1*e.mini}function compareVersion(version1,operator,version2){var v1=parseVersionToInt(version1),v2=parseVersionToInt(version2);return eval(v1+operator+v2)}function connectDidiJSBridge(e){window.DidiJSBridge?(isAndroid&&bugfix&&bugfix.init(),e(DidiJSBridge)):document.addEventListener("DidiJSBridgeReady",function(){isAndroid&&bugfix&&bugfix.init(),e(DidiJSBridge)},!1)}function syncCall(e,i,n){connectDidiJSBridge(function(t){var r=findAction(e);if(isIOS)t.callHandler(r.method,JSON.stringify(i||""),function(e){"function"==typeof n&&n(e)}),r.ioscbk||"function"==typeof n&&n();else{var a=t.callHandler(e,i&&JSON.stringify(i));"function"==typeof n&&n(a)}})}function asyncCall(e,i,n){connectDidiJSBridge(function(t){if(isIOS)t.callHandler(e,JSON.stringify(i||""),function(e){"function"==typeof n&&n(e)});else{var r="didibridge_callback_"+(new Date).getTime();window[r]=function(e){"function"==typeof n&&n(e)};var a=_extend(i||{},{callback:r});t.callHandler(e,JSON.stringify(a))}})}var bugfix=function(){function e(){return void 0===t&&(window.DidiJSBridge=t=i(),n()),window.DidiJSBridge=t}function i(){var e={queue:[],callback:function(){var e=Array.prototype.slice.call(arguments,0),i=e.shift(),n=e.shift();this.queue[i].apply(this,e),n||delete this.queue[i]}};return e.callHandler=function(){var i=Array.prototype.slice.call(arguments,0),n=e.queue;i.unshift("callHandler");for(var t=[],r=1;r<i.length;r++){var a=i[r],o=typeof a;if(t.push(o),"function"==o){var s=n.length;n.push(a),i[r]=s}}var d=JSON.stringify({method:i.shift(),types:t,args:i}),c=prompt(d),l=JSON.parse(c);if(200!=l.code)throw"DidiJSBridge call error, code:"+l.code+", message:"+l.result;return l.result},e}function n(){var e=document.createEvent("HTMLEvents");e.initEvent("DidiJSBridgeReady",!1,!1),document.dispatchEvent(e)}var t;return{init:e}}(),ua=navigator.userAgent,isIOS=/(?:iPhone|iPad|iPod).*OS\s[\d_]+/.test(ua),isAndroid=/Android;?[\s\/]+[\d.]+?/.test(ua),syncCallsWithoutParams=[{method:"getUserInfo",version:"*",ioscbk:1},{method:"getSystemInfo",version:"*",ioscbk:1},{method:"getLocationInfo",version:"*",ioscbk:1},{method:"callNativeLogin",version:"*"},{alia:"closePage",method:"page_close",version:"*"},{alia:"refreshPage",method:"page_refresh",version:"*"},{alia:"showEntrance",method:"show_entrance",version:"*"},{alia:"hideEntrance",method:"hide_entrance",version:"*"},{alia:"invokeEntrance",method:"invoke_entrance",version:"*"}],syncCallsWithParams=[{alia:"initEntrance",method:"init_entrance",version:"*"},{alia:"shareWxTimeline",method:"share_weixin_timeline",version:"*"},{alia:"shareWxAppmsg",method:"share_weixin_appmsg",version:"*"},{alia:"shareQQAppmsg",method:"share_qq_appmsg",version:"*"},{alia:"shareQZone",method:"share_qzone",version:"*"},{alia:"shareSinaWeibo",method:"share_sina_weibo",version:"*"},{alia:"openUrl",method:"open_url",version:"ios"},{method:"beatlesCommunicate",version:"*",ioscbk:1}],asyncCallsWithParams=[{alia:"uploadImageBySelect",method:"callbackImageLiteratureReview",version:"ios >= 3.9.5, android >= 3.9.4"},{alia:"uploadImageByCamera",method:"callbackImageLiteratureReviewTakeCamera",version:"ios >= 3.9.5, android >= 3.9.4"},{alia:"uploadImageByPhotoLibrary",method:"callbackImageLiteratureReviewPhotoLibrary",version:"ios >= 3.9.5, android >= 3.9.4"},{method:"resizeImage",version:"ios >= 4.0, android >= 3.9.5"}];return connectDidiJSBridge(function(e){window.DidiBeatlesJSBridge=e,isIOS&&e.init&&e.init(),e._beatlesCommunicate=function(e,i){if(e&&e.header){var n=e.header,t=n.event_key;if(t){var r=document.createEvent("Event");r.initEvent(t),r.data=JSON.parse(e),document.dispatchEvent(r)}}i&&i('{"test": "ok"}')}}),function(){var e,i;e=syncCallsWithoutParams,i=e.length;for(var n=0;i>n;n++)!function(){var i=e[n];DidiBridge[i.alia||i.method]=function(e){check(i)&&syncCall(i.method,"",e)}}();e=syncCallsWithParams,i=e.length;for(var n=0;i>n;n++)!function(){var i=e[n];DidiBridge[i.alia||i.method]=function(e,n){check(i)&&syncCall(i.method,e,n)}}();e=asyncCallsWithParams,i=e.length;for(var n=0;i>n;n++)!function(){var i=e[n];DidiBridge[i.alia||i.method]=function(e,n){check(i)&&asyncCall(i.method,e,n)}}()}(),_extend(DidiBridge,{appVersion:getAppVersion(),connect:connectDidiJSBridge,check:check,compareVersion:compareVersion}),DidiBridge})});
;define("page/fellow/main.js",function(e){"use strict";var n=e("ddplayer"),a=e("didibridge"),i=n.vars,t=e("didimonitor"),o=t.sendBeatles,r=e("wxsharedidi"),s=function(){n.ready(function(e){var n=location.href.replace(/[?#].*/g,""),t={param:{playerConId:"playerWrap",playerConfig:{data:window.videoData||{},autoplay:!1},clsBodyBg:"js_body_bg",clsBodyBgPlayed:"js_body_bg_played",clsBtnGet:"js_power_get",idBtnShare:"btnShare",isPlayed:!1,idWrongLayer:"wrongLayer",shareConfig:{share_url:n,share_img_url:"http://static.xiaojukeji.com/pinche/release/page/fellow/images/share_a5c4cec.png",share_icon_url:"http://static.xiaojukeji.com/pinche/release/page/fellow/images/share_a5c4cec.png",share_title:"2016第一支暖心视频，送给过年回家的你",share_content:"没有一种感情比亲情更浓烈，没有一种温暖比得上回家过年。2016第一支暖心视频，送给过年回家的你！",weibo_desc:"没有一种感情比亲情更浓烈，没有一种温暖比得上回家过年。2016第一支暖心视频，送给过年回家的你！快戳→（http://t.cn/Rb1OCOl）"}},model:{player:null},view:{},ctrl:{}},s=t.param,c=t.model,l=(t.view,t.ctrl);s.init=function(){return $.isFunction(e)?0===$("#"+s.playerConId).length?!1:!0:!1},c.initEntranceConfig=function(){s.entranceConfig={entrance:{icon:"http://static.xiaojukeji.com/api/img/i-webview-entrance.png"},buttons:[{type:"share_weixin_timeline",name:"分享到微信朋友圈",data:s.shareConfig,callback:function(){}},{type:"share_weixin_appmsg",name:"分享给微信好友",data:s.shareConfig,callback:function(){}},{type:"share_sina_weibo",name:"分享到新浪微博",data:$.extend({},s.shareConfig,{share_content:s.shareConfig.weibo_desc||s.shareConfig.desc}),callback:function(){}},{type:"share_qq_appmsg",name:"分享给QQ好友",data:s.shareConfig,callback:function(){}},{type:"share_qzone",name:"分享到QQ空间",data:s.shareConfig,callback:function(){}},{type:"page_refresh",name:"刷新"}]}},l.init=function(){s.init()&&(window.ddplayer=c.player=new e(s.playerConfig),s.$btnGet=$("."+s.clsBtnGet),s.$btnShare=$("#"+s.idBtnShare),s.$wrongLayer=$("#"+s.idWrongLayer),l.eventInit(),c.player.htmlTo($("#"+s.playerConId)),i.IsDiDiBrowser&&(c.initEntranceConfig(),a.initEntrance(s.entranceConfig),a.showEntrance(),s.$btnShare.show()),$("body").css("height",$(window).height()),$(window).bind("load",function(){o("sfc-video-160129_index_sw",null,!0)}))},l.eventInit=function(){var e=l.process;c.player.on("play",function(){s.isPlayed||($("body").addClass("played"),s.$btnGet.hide(),s.isPlayed=!0,o("sfc-video-160129_index_ck",null,!0))}),c.player.on("pause",function(){}),s.$btnGet.on(i.END_EVENT,function(){c.player&&c.player.$midPlay.trigger(i.END_EVENT)}),c.player.on("ended",function(){return e.ended(),!1}),e.share(),e.orient()},l.process={},l.process.ended=function(){s.isPlayed=!1},l.process.share=function(){s.$btnShare.on(i.END_EVENT,function(){a&&a.invokeEntrance(),o("sfc-video-160129_share_ck",null,!0)}),r.initWxShare(s.shareConfig)},l.process.orient=function(){$(window).bind("orientationchange",function(){0==window.orientation||180==window.orientation?(s.$wrongLayer.hide(),$("html").removeClass("orientation")):90!=window.orientation&&-90!=window.orientation||s.isPlayed?(c.player.$ctrlFullScreen.trigger(i.END_EVENT),$("html").addClass("orientation")):s.$wrongLayer.show()})},l.init()})};s()});