define("ddplayer/base/vars.js",function(e,i,o){"use strict";var s={};window.DiDiVideoJSBridge=window.DiDiVideoJSBridge||{},s.ENABLE_DEBUG=!1,s.IS_HISTORY_SUPPORT="pushState"in history,s.UA=window.navigator.userAgent;var r=function(){var e=1;try{e=void 0!==window.screen.systemXDPI&&void 0!==window.screen.logicalXDPI&&window.screen.systemXDPI>window.screen.logicalXDPI?window.screen.systemXDPI/window.screen.logicalXDPI:void 0!==window.devicePixelRatio?window.devicePixelRatio:window.devicePixelRatio,e=parseFloat(e)||1}catch(i){}return e};s.PixelRatio=r(),s.IsAndroid=!(!/Android|HTC|Adr/i.test(s.UA)&&!(window.navigator.platform+"").match(/Linux/i)),s.IsIpad=!s.IsAndroid&&/iPad/i.test(s.UA),s.IsIpod=!s.IsAndroid&&/iPod/i.test(s.UA),s.IsIphone=!s.IsAndroid&&/iPod|iPhone/i.test(s.UA),s.IsIOS=s.IsIpad||s.IsIphone,s.IsWindowsPhone=/Windows Phone/i.test(s.UA),s.IsOldWindowsPhone=/Windows\sPhone\s([1234567]\.|8\.0)/i.test(s.UA),s.IsNewWindowsPhone=s.IsWindowsPhone&&!s.IsOldWindowsPhone,s.IsWindowsPad=/Windows\sPad/i.test(s.UA),s.IsWindows=/Windows/i.test(s.UA),s.IsVivoPhone=/vivo/i.test(s.UA),s.ScreenSizeCorrect=1,s.IsAndroid&&(window.screen.width/window.innerWidth).toFixed(2)===s.PixelRatio.toFixed(2)&&(s.ScreenSizeCorrect=1/s.PixelRatio),s.AdrPadRegex=/pad|XiaoMi\/MiPad|lepad|MediaPad|GT-P|SM-T|GT-N5100|sch-i800|Nexus\s7|Nexus\s8|Nexus\s11|Kindle Fire HD|Tablet/i,s.ScreenSize=Math.floor(window.screen.width*s.ScreenSizeCorrect)+"x"+Math.floor(window.screen.height*s.ScreenSizeCorrect);var t=function(){var e=1,i=!1,o=s.ScreenSizeCorrect||1,r=Math.floor(window.screen.width*o),t=Math.floor(window.screen.height*o),d=1;try{e=parseFloat(Math.sqrt(r*r+t*t)),d=parseFloat(e/(160*s.PixelRatio))}catch(n){}if("ontouchstart"in window&&s.IsAndroid)if(/mobile/i.test(s.UA))i=!1;else{var a=!!s.AdrPadRegex.test(s.UA);a?i=!0:!i&&(e>=2500||d>7.8)&&(i=!0)}return i};s.IsAndroidPad=t(),s.IsIEBrowser=!!document.all&&("Win32"===navigator.platform||"Win64"===navigator.platform||"Windows"===navigator.platform),s.IsSafariBrowser=!(!s.UA.match(/Safari/i)||s.IsAndroid),s.IsChromeBrowser=!(!s.UA.match(/Chrome/i)||s.IsAndroid),s.IsWeiXinBrowser=!(!window.WeixinJSBridge&&!/MicroMessenger/i.test(s.UA)),s.IsDiDiBrowser=!(!window.DidiJSBridge&&!/didi.passenger/.test(s.UA)),s.IsWeiBoBrowser=/weibo/.test(s.UA.toLowerCase()),s.IsQQBrowser=!!/MQQBrowser/i.test(s.UA),s.IsUCBrowser=!!/UCBrowser/i.test(s.UA),s.IsOldUCBrowser=!!/UCBrowser\/([1-9]\..*|10\.[01].*)/i.test(s.UA),s.IsNewUCBrowser=s.IsUCBrowser&&!s.IsOldUCBrowser,s.IsMiBrowser=!!/MiuiBrowser/i.test(s.UA),s.IsBaiduBrowser=!!/baidubrowser/i.test(s.UA),s.IsBaiduBoxApp=!!/baiduboxapp/i.test(s.UA),s.IsOldBaiduBrowser=!!/baidubrowser\/([01234]\..*|5\.[0123456]\..*|5\.7\.[012])/i.test(s.UA),s.IsNewBaiduBrowser=s.IsBaiduBrowser&&!s.IsOldBaiduBrowser,s.IsTouch="ontouchstart"in window;var d=function(){var e=s.UA,i=e.match(/MQQBrowser\/(\d+\.\d+)/i),o=e.match(/QQ\/(\d+\.(\d+)\.(\d+)\.(\d+))/i),r=e.match(/MicroMessenger\/((\d+)\.(\d+))\.(\d+)/)||e.match(/MicroMessenger\/((\d+)\.(\d+))/),t=e.match(/MiuiBrowser\/(\d+\.\d+)/i),d=e.match(/UCBrowser\/(\d+\.\d+(\.\d+\.\d+)?)/)||e.match(/\sUC\s/),n=e.match(/IEMobile(\/|\s+)(\d+\.\d+)/),a=e.match(/(ipod\sOS)\s([\d_]+)/),w=0/0;return window.ActiveXObject?(w=6,(window.XMLHttpRequest||e.indexOf("MSIE 7.0")>-1)&&(w=7),(window.XDomainRequest||e.indexOf("Trident/4.0")>-1)&&(w=8),e.indexOf("Trident/5.0")>-1&&(w=9),e.indexOf("Trident/6.0")>-1&&(w=10)):e.indexOf("Trident/7.0")>-1&&(w=11),a&&(w=a[2].replace(/_/g,".")),i&&(w=i[1]),o&&(w=o[1]),r&&(w=r[1]),t&&(w=t[1]),d&&(w=d[1]||0/0),!i||window.mtt&&window.mtt.getBrowserParam||!s.IsAndroid||(w="9.6.0"),n&&(w=n[2]),w};s.BrowserVersion=d();var n=function(){var e=s.UA,i=0/0;if($.os&&$.os.version)i=$.os.version;else{var o=e.match(/Web[kK]it[\/]{0,1}([\d.]+)/),r=e.match(/(Android);?[\s\/]+([\d.]+)?/),t=e.match(/(iPad).*OS\s([\d_]+)/),d=e.match(/(iPod)(.*OS\s([\d_]+))?/),n=!t&&e.match(/(iPhone\sOS)\s([\d_]+)/),a=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),w=e.match(/Kindle\/([\d.]+)/),c=e.match(/(BlackBerry).*Version\/([\d.]+)/),I=e.match(/(BB10).*Version\/([\d.]+)/),h=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/);o&&(i=o[1]),r&&(i=r[2]),n&&!d&&(i=n[2].replace(/_/g,".")),t&&(i=t[2].replace(/_/g,".")),d&&(i=d[3]?d[3].replace(/_/g,"."):null),a&&(i=a[2]),c&&(i=c[2]),I&&(i=I[2]),h&&(i=h[2]),w&&(i=w[1])}return i};s.OsVersion=n(),s.IsMIOne=/MI-ONE/i.test(s.UA),s.IsXiaoMI=/MI/i.test(s.UA),s.IsVivoPhone=/vivo/i.test(s.UA),s.IsSonyPhone=/Sony/i.test(s.UA),s.IsSAMSUNG=/SAMSUNG/i.test(s.UA),s.IsSAMSUNGNote3=/SAMSUNG SM-N90/i.test(s.UA),s.START_EVENT=s.IsTouch?"touchstart":"mousedown",s.MOVE_EVENT=s.IsTouch?"touchmove":"mousemove",s.END_EVENT=s.IsTouch?"touchend":"mouseup",s.CANCEL_EVENT=s.IsTouch?"touchcancel":"mouseup",s.RESIZE_EVENT="onorientationchange"in window?"orientationchange":"resize",s.IsHistorySupport="pushState"in history,o.exports=s,window.ddvp.VARS=s});
;define("ddplayer/base/console.js",function(e,t,o){"use strict";var n=e("ddplayer/base/vars.js"),l={level:"info",dateFormat:"yyyyMMdd hh:mm:ss",DOM:null,line:'<p class="Console-line"></p>',tgt:'<div id="Console-log" style="-webkit-overflow-scrolling:touch;overflow:auto;line-height:1.5;z-index:5000;width:100%;font-size:11px;background:rgba(0,0,0,.8);color:#fff;bottom:0;-webkit-user-select: initial;"></div>',style:"<style>.Console-line{ margin-top:-1px;padding:.5em;border-top:1px solid rgba(255,255,255,.3);width:70% } .c_info .c_log { color:white; } .c_error { color:red; } .c_warn { color:yellow; } .c_debug { color:green; } </style>",inited:!1},r={},i={};i.getType=function(e){var t,o=e;return("object"==(t=typeof o)?null===o&&"null"||Object.prototype.toString.call(o).slice(8,-1):t).toLowerCase()},i.DateFormat=function(e,t){var o={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};try{/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in o)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?o[n]:("00"+o[n]).substr((""+o[n]).length)))}catch(l){console.log(l)}return t},r.logObj=function(e){var t=e||"INFO",o={timestamp:r.getTimestamp(),level:t};return o},r.applyData=function(e){e.alisLevel=e.level.toUpperCase().substring(0,1);var t=[" [ ",e.level," ] "].join("");return t},r.getTimestamp=function(){return i.DateFormat(new Date,l.dateFormat)},r.output=function(e,t,o){if("undefined"!=typeof t&&"undefined"!=typeof o?console.log(t,o):"undefined"!=typeof t&&console.log(t),n.ENABLE_DEBUG)try{l.inited||r.init();var i=document.createElement("div");i.className="c_"+e.level.toLowerCase()||"c_info";var a=r.applyData(e)+" "+t;"undefined"!=typeof o&&(a+=", "+o),i.innerHTML=a,$(".c_log").length>0?l.DOM.insertBefore(i,$(".c_log")[0]):l.DOM.appendChild(i)}catch(c){console.log("exception :"+c)}},r.init=function(){if(!l.inited){var e=document.createElement("style");e.innerHTML=l.style,document.body.appendChild(e);var t=document.createElement("div");t.innerHTML=l.tgt,document.body.appendChild(t),l.DOM=document.getElementById("Console-log"),l.inited=!0}},l.log=function(e,t){var o=r.logObj("LOG");r.output(o,e,t)},l.debug=function(e,t){var o=r.logObj("DEBUG");r.output(o,e,t)},l.info=function(e,t){var o=r.logObj("INFO");r.output(o,e,t)},l.error=function(e,t){var o=r.logObj("ERROR");r.output(o,e,t)},l.warn=function(e,t){var o=r.logObj("WARN");r.output(o,e,t)},window.Console=l,o.exports=l});
;define("ddplayer/base/special.js",function(e,i,r){"use strict";var n=e("ddplayer/base/vars.js"),s={};s.TIMEUPDATE_REPLACE_ENDED_LIST=[/SM\-N90/i],s.isAllowTimeupdateReplaceEnded=function(){var e=!1;return $.each(s.TIMEUPDATE_REPLACE_ENDED_LIST,function(i,r){return r.test(n.UA)?(e=!0,!1):void 0}),e},s.isDiDiForceUseMp4=function(){return!0},r.exports=s});
;define("ddplayer/base/util.js",function(t,n,e){"use strict";var r=t("ddplayer/base/vars.js"),a={getOSVersion:function(){var t="0";if(r.IsIOS){var n=r.UA.match(/os ([0-9_]+)/i);n&&n[1]&&(t=a.getVersionNumber(n[1]))}else t=r.IsAndroid?a.getAndroidVersionNumber():"4.0.1";return t},getAndroidVersionNumber:function(){var t=r.UA.match(/android(.*?);/i)||[];return t[1]||"0"},getVersionNumber:function(t){var n=0;try{var e=t.replace(/_/g,".").replace(/^([0-9]+\.[0-9]+)[0-9\.]*/,"$1");n=parseFloat(e||0)}catch(r){}return n},timeFromNow:function(t){var n=t;try{var e=60,r=60*e,a=24*r,o=30*a,i=12*o;t=(+new Date-parseInt(t,10))/1e3,n=t>=i?Math.floor(t/i)+"年前":t>=o?Math.floor(t/o)+"个月前":t>=a?Math.floor(t/a)+"天前":t>=r?Math.floor(t/r)+"小时前":t>=e?Math.floor(t/e)+"分钟前":"刚刚"}catch(s){}return n},secondsToTime:function(t){var n=t;try{var e=parseInt(t,10);isNaN(e)&&(e=0);var r=Math.floor(e/60);if(t=e%60,10>t&&(t="0"+t),60>r)10>r&&(r="0"+r),n=r+":"+t;else{var a=Math.floor(r/60);r%=60,10>r&&(r="0"+r),10>a&&(a="0"+a),n=a+":"+r+":"+t}}catch(o){}return n},secondsToTimeText:function(t){var n=t;try{var e=parseInt(t,10);isNaN(e)&&(e=0);var r=Math.floor(e/60);if(t=e%60+"秒",60>r)n=(r>0?r+"分":"")+t;else{var a=Math.floor(r/60);r%=60,n=(a>0?a+"小时":"")+r+"分"+t}}catch(o){}return n},shortCount:function(t){var n=t;try{t=parseInt(t,10),t>1e8?t=Math.floor(t/1e8)+"亿":t>1e4&&(t=Math.floor(t/1e4)+"万"),n=t}catch(e){}return n},shortFixedCount:function(t){var n=t;try{t=parseFloat(t),t&&t>=1e8?t=(t/1e8).toFixed(1)+"亿":t&&t>=1e4&&(t=(t/1e4).toFixed(1)+"万"),n=t}catch(e){}return n},dateString:function(t){var n=t.match(/([0-9]{4}\-[0-9]+\-[0-9]+)/);return n&&(t=n[1]),t},setLoad:function(t){return t=$(t),t.hasClass("_load_inited")||t.addClass("_load_inited").append($('<i class="ui_loading"><u></u><u></u><u></u></i>')),t},loadScript:function(t,n,e){var r=document.getElementsByTagName("head")[0]||document.body,a=document.createElement("script"),o=!1;a.src=t,a.onload=a.onreadystatechange=function(){o||this.readyState&&"loading"===this.readyState||(o=!0,n&&n.apply(null,e||[]),a.onload=a.onreadystatechange=null,r.removeChild(a))},r.appendChild(a)},getConnectionType:function(){var t,n=window.navigator.connection,e="";return n&&(t=n.type,t===n.CELL_2G?e="2g":t===n.CELL_3G?e="3g":t===n.WIFI&&(e="wifi")),e},formatDateWithBar:function(t){t=t||new Date;var n=t.getMonth()+1,e=t.getDate();return n.toString().length<2&&(n="0"+n),e.toString().length<2&&(e="0"+e),t.getFullYear()+"-"+n+"-"+e},formatDateWithZh:function(t){t=t||new Date;var n=t.getMonth()+1,e=t.getDate();return n.toString().length<2&&(n="0"+n),e.toString().length<2&&(e="0"+e),t.getFullYear()+"年"+n+"月"+e+"日"},formatDateStr:function(t,n){var e={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in e)new RegExp("("+r+")").test(n)&&(n=n.replace(RegExp.$1,1===RegExp.$1.length?e[r]:("00"+e[r]).substr((""+e[r]).length)));return n},getUserPt:function(){var t=1;if("undefined"!=typeof navigator.platform)for(var n=["Win32","Win64","Windows","Mac68K","MacPC","Macintosh","MacIntel"],e=0,a=n.length;a>e;e++)if(navigator.platform===n[e]){t=1;break}return r.IsIpad&&(t=2),r.IsIphone&&(t=3),r.IsAndroid&&(t=5,/tv/i.test(r.UA)&&(t=6)),r.IsAndroidPad&&(t=4),r.IsWindowsPad&&(t=7),r.IsWindowsPhone&&(t=8),t},getUserPt2:function(){var t="pc";if("undefined"!=typeof navigator.platform)for(var n=["Win32","Win64","Windows","Mac68K","MacPC","Macintosh","MacIntel"],e=0,a=n.length;a>e;e++)if(navigator.platform===n[e]){t="pc";break}return r.IsIpad&&(t="iPad"),r.IsIphone&&(t="iPhone"),r.IsAndroid&&(t="android"),r.IsAndroidPad&&(t="androidPad"),r.IsWindowsPad&&(t="windowsPad"),r.IsWindowsPhone&&(t="windowsPhone"),t},getUserSysPt:function(){var t="pc";if("undefined"!=typeof navigator.platform)for(var n=["Win32","Win64","Windows","Mac68K","MacPC","Macintosh","MacIntel"],e=0,a=n.length;a>e;e++)if(navigator.platform===n[e]){t="pc";break}r.IsAndroid&&(t="android"),r.IsAndroidPad&&(t="android"),r.IsIpad&&(t="ios"),r.IsIphone&&(t="ios"),r.IsWindowsPad&&(t="windows"),r.IsWindowsPhone&&(t="windows")},reverse:function(t){return Array.isArray(t)?t.reverse():String(t).split("").reverse().join("")},getFnName:function(t){var n="";return"function"==typeof t&&(n=t.name||(/function ([^\(]+)/.exec(t.toString())||[])[1]||""),n},getRandomNum:function(t,n){var e=n-t,r=Math.random();return t+Math.round(r*e)},formatDateWithBar2:function(){var t=t||new Date,n=t.getMonth()+1,e=t.getDate();return n.toString().length<2&&(n="0"+n),e.toString().length<2&&(e="0"+e),t.getFullYear()+""+n+e}};String.prototype.replaceAll=function(t,n){return this.replace(new RegExp(t,"gm"),n)},String.prototype.hasOwnProperty("trim")||(String.prototype.trim=function(){return this.replace(/^(\s|\r|\n|\r\n)*|(\s|\r|\n|\r\n)*$/g,"")}),Function.prototype.hasOwnProperty("bind")||(Function.prototype.bind=function(t){var n=this,e=arguments.length>1?Array.slice(arguments,1):null;return function(){return n.apply(t||this,e)}}),e.exports=a});
;define("ddplayer/player/mediaPlayer.js",function(t,e,o){"use strict";var a=t("ddplayer/base/console.js"),i=t("ddplayer/base/vars.js"),n=function(t){this.videoTag=null,this.$video=null,this.cache=null,this.videoData=null,this.config=null,this.videoList=null,this.currentTime=0,this.duration=0,this._loadedDomFlag=!1,this._timeoutFlag=!1,this._getDataFlag=!1,this._playCheckFlag=!1,this._playCheckTime=6e3,this._init(t)};n.prototype.eventProcess={pause:[],ended:[],userEnded:[],error:[],play:[],playing:[],timeupdate:[]},n.prototype.eventList=["loadedvideodata","loadstart","progress","suspend","abort","error","stalled","play","playing","pause","loadedmetadata","loadeddata","waiting","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange"],n.prototype.getSrc=function(){return this.$video.attr("src")},n.prototype.setSrc=function(t){this.$video.attr("src",t)},n.prototype.getVolume=function(){return this.videoTag.volume},n.prototype.setVolume=function(t){$.isNumber(t)&&(t=0>t?0:t,t=t>1?1:t,a.log("音量:",t),this.videoTag.volume=t)},n.prototype.getPoster=function(){return this.cache.poster||""},n.prototype.setPoster=function(t){this.changePoster(t)},n.prototype.getPreLoad=function(){return this.$video.attr("preload")},n.prototype.setPreLoad=function(t){this.$video.attr("preload",t)},n.prototype._init=function(){},n.prototype._addEvent=function(){},n.prototype._removeEvent=function(){},n.prototype._fireEvent=function(){},n.prototype._pause=function(){var t=this;this._onDomLoaded(function(){null===t.$video.attr("data-noSupport")&&t.videoTag.pause()})},n.prototype._play=function(){var t=this,e=function(){if(null===t.$video.attr("data-noSupport"))try{if(!this._playCheckFlag&&this.config.autoplay){this._playCheckFlag=!0;var e=0,o=200,a=setInterval(function(){e+=o;var i=e>=t._playCheckTime;(i||t.currentTime>1)&&(i&&(t.pause(),t.$video.trigger("pause")),clearInterval(a))},o)}null!==t.$video.attr("preload")&&t.$video.removeAttr("preload"),t.videoTag.play()}catch(i){t.$video.one("canplay",function(){t.videoTag.paused&&t.videoTag.play()})}};this._onDomLoaded(e)},n.prototype._playOrPause=function(){},n.prototype.pause=function(){var t=this;this._onDomLoaded(function(){t._playOrPause("pause")})},n.prototype.play=function(){var t=this;this._onDomLoaded(function(){t._playOrPause("play")})},n.prototype.seekTo=function(t){var e=this,o=function(t){try{e.videoTag.currentTime=t,e.videoTag.paused&&e.videoTag.play()}catch(o){e.$video.one("canplay",function(){e.videoTag.currentTime=t,e.videoTag.paused&&e.videoTag.play()})}},a=this.cache.srcList[this.cache.modeType];if(/Android\s4\./i.test(i.UA)&&!i.IsBaiduBrowser&&this._showLoading(),1===a.length)o(t);else{var n=0;$.each(a,function(a,i){if(n+i.duration>t){var r=e.cache;if(a!==r.curIndex){r.curIndex=a;var p=i.url;r.curPlayUrl=p,e.setSrc(p)}return t-=n,setTimeout(function(){o(t)},300),!1}n+=i.duration})}},n.prototype.on=function(){},n.prototype.off=function(){},n.prototype.trigger=function(){},n.prototype.one=function(){},n.prototype.htmlTo=function(){},n.prototype.playByMode=function(){},n.prototype.updateMedia=function(){},n.prototype.changePoster=function(){},n.prototype._onDomLoaded=function(t){var e=this;if(this._loadedDomFlag)t.call(this);else var o=setInterval(function(){e._loadedDomFlag&&(clearInterval(o),t.call(e))},100)},o.exports=n});
;define("ddplayer/player/events.js",function(e){"use strict";{var n=e("ddplayer/player/mediaPlayer.js"),t=e("ddplayer/base/vars.js"),o=e("ddplayer/base/special.js");e("ddplayer/base/console.js")}n.prototype.on=function(e,n){var t=this;this._onDomLoaded(function(){"ended"===e||"onended"===e?t.eventProcess.userEnded.push({name:"ended",process:function(){n.call(t)}}):t.$video.on(e,function(e){n.call(t,e)})})},n.prototype.off=function(e,n){var t=this;this._onDomLoaded(function(){e=e.toLowerCase(),t.$video.off(e,n)})},n.prototype.trigger=function(e){var n=this;this._onDomLoaded(function(){e=e.toLowerCase(),n.$video.trigger(e)})},n.prototype.one=function(e,n){var t=this;this._onDomLoaded(function(){e=e.toLowerCase(),"ended"===e?this.$video.on(e,function(){t.cache.curIndex===t.cache.totCounts-1&&t.$video.one(e,function(e){n.call(t,e)})}):this.$video.one(e,function(e){n.call(t,e)})})},n.prototype._addEvent=function(e,n,t){var i=this.eventProcess,s=this;if(e=e.toLowerCase(),!$.isUndefined(e)&&!$.isUndefined(i[e])){var r={},d=o.isAllowTimeupdateReplaceEnded()&&("ended"===e||"onended"===e);$.isFunction(n)?(d?(e="timeupdate",r.process=function(){s.videoTag.duration-s.videoTag.currentTime<.5&&n.call(s)}):r.process=function(){n.call(s)},r.name="_"+e+(new Date).getTime(),i[e].push(r)):$.isString(n)&&$.isFunction(t)&&(r.process=d?function(){s.videoTag.duration-s.videoTag.currentTime<.5&&t.call(s)}:function(){t.call(s)},r.name=n,i[e].push(r))}},n.prototype._removeEvent=function(e,n){var t=this.eventProcess;$.isUndefined(e)||$.isUndefined(t[e])||($.isUndefined(n)?t[e]=[]:$.isString(n)&&$.each(t[e],function(o,i){i.name===n&&t[e].splice(o,1)}))},n.prototype._fireEvent=function(e){var n=this.eventProcess,t=this;$.isUndefined(e)||$.isUndefined(n[e])||$.each(n[e],function(e,n){n.process.call(t)})},n.prototype._onBaseEnded=function(){var e=this,n=e.cache;if(this._startPlayTime=$.now(),this._bufferCount=0,-1===n.curIndex&&(n.curIndex=0),t.IsBaiduBrowser||t.IsBaiduBoxApp){var o=n.srcList[n.modeType],i=0;$.each(o,function(e,t){return i+=t.duration,e>=n.curIndex?!1:void 0})}var s=n.getNextUrl();if(""!==s)this.trigger("waiting"),n.curPlayUrl=s,n.curIndex++,this.setSrc(n.curPlayUrl),setTimeout(function(){e.videoTag.play()},100),this.videoData.video_src=s;else{if(n.loop){this.trigger("waiting");var r=n.getFirstUrl();this.setSrc(r),this.play(),n.curPlayUrl=r,n.curIndex=-1,this.videoData.video_src=r}else n.curPlayUrl=s;$.each(this.eventProcess.userEnded,function(e,n){n.process()})}this._nextPreLoadImg=null},n.prototype._onKeyDown=function(e,n){var t=e.keyCode||e.which||e.charCode,o=function(e){var t=n.getVolume();t+=e,n.setVolume(t)};if(!$.isUndefined(t))switch(t){case 38:o(.1);break;case 40:o(-.1);break;case 37:n.seekTo(n.currentTime-10);break;case 39:n.seekTo(n.currentTime+10)}},n.prototype._initEvent=function(){var e=this,n=this.eventProcess;this.$video&&this.$video.length>0&&$.each(e.eventList,function(o,i){$.isArray(n[i])&&(t.IsSAMSUNGNote3&&"ended"!==i||!t.IsSAMSUNGNote3)&&e.$video.on(i,function(t){$(e.$video,e.$main).length>0&&$.each(n[i],function(n,o){o.process.call(e,t)})})}),this._addEvent("ended",this._onBaseEnded),$("body").on("keydown",function(n){e._onKeyDown(n,e)})}});
;define("ddplayer/player/playHistory.js",function(t,i,e){"use strict";var r=t("store"),a={param:{localHistoryName:"dd_video_history",maxSize:20,checkArr:["sid","vid","site","playTime","duration"],paramArr:["sid","vid","site","cid","playTime","duration","sysTime","title"]},model:{localDataStr:""},view:{},ctrl:{}},o=a.param,n=a.model,s=(a.view,a.ctrl);n.historyCheck=function(t){var i=!0;return $.each(o.checkArr,function(e,r){return"undefiend"==typeof t[r]?(i=!1,!1):void 0}),i},n.objToStr=function(t){var i=[],e=!1;try{var r=parseInt(t.duration,10),a=parseInt(t.playTime,10);a/r>.97&&(e=!0)}catch(n){}return e?"finished":(t.sysTime=Date.now(),$.each(o.paramArr,function(e,r){if("playTime"===r)try{t[r]=parseInt(t[r],10)}catch(a){}t[r]=t[r]?t[r]:"",i.push(encodeURIComponent(t[r]))}),i.join(","))},n.strToObj=function(t){var i=null;if("string"==typeof t&&"null"!==t&&""!==t){var e=t.split(",");i={},$.each(o.paramArr,function(t,r){i[r]="playTime"===r||"duration"===r||"sysTime"===r||"flag"===r||"sid"===r?parseInt(e[t],10):decodeURIComponent(e[t])})}return i},n.strToArr=function(t){var i=[];if("string"==typeof t&&""!==t&&"null"!==t){0===t.indexOf("|")&&(t=t.substr(1));var e=t.split("|");$.each(e,function(t,e){i.push(n.strToObj(e))})}return i},s.setHistory=function(t){if(n.historyCheck(t)){var i=n.objToStr(t);""===n.localDataStr&&(n.localDataStr=r.get(o.localHistoryName)||"");var e=""!==n.localDataStr?n.localDataStr.split("|"):[],a=","+t.vid+","+t.site+",";if("finished"!==i&&-1===n.localDataStr.indexOf(a))e.unshift(i);else{var s=[];"finished"!==i&&s.push(i),$.each(e,function(t,i){-1===i.indexOf(a)&&s.push(i)}),e=s}e.length>o.maxSize&&(e.length=o.maxSize),n.localDataStr=e.join("|"),r.set(o.localHistoryName,n.localDataStr)}},s.getHistory=function(t){var i=[],e=n.localDataStr&&""!==n.localDataStr?n.localDataStr:r.get(o.localHistoryName);if(e&&"undefined"!=typeof t){if("undefined"!=typeof t.vid&&"undefined"!=typeof t.site){var a=new RegExp("(^|\\|)\\d+,"+t.vid+","+t.site+"(,[\\w\\.\\W]*){6}","ig"),s=e.match(a)+"";i=n.strToObj(s),i=null===i?[]:[i]}else if("undefined"!=typeof t.sid){var l=n.strToArr(e);$.each(l,function(e,r){r.sid+""==t.sid+""&&i.push(r)}),("undefiend"==typeof t.type||0===t.type||1!==t.type)&&(i.length=1)}}else i=n.strToArr(e);return i},window.DiDiVideoJSBridge=window.DiDiVideoJSBridge||{},window.DiDiVideoJSBridge.setHistory=s.setHistory,window.DiDiVideoJSBridge.getHistory=s.getHistory,e.exports={setHistory:s.setHistory,getHistory:s.getHistory}});
;define("ddplayer/player/errorTypes.js",function(e,r,s){"use strict";var p={PROCESS:{200:"数据处理完成",201:"无效数据,请刷新重试",202:"无效视频数据",203:"数据结构错误",204:"解析数据出错"},SUPPORT:{300:"您的浏览器不支持播放功能，请尝试使用其它浏览器"},REQUEST:{400:"网络超时，请刷新重试"}};s.exports=p});
;define("ddplayer/player/ctrlProgress.js",function(e){"use strict";var r=e("ddplayer/player/mediaPlayer.js"),t=e("ddplayer/base/vars.js"),a=e("ddplayer/player/playHistory.js"),i=e("ddplayer/base/console.js"),o=(e("ddplayer/player/errorTypes.js"),function(e){var r=e.cache,t=r.srcList[r.modeType]||[];if(t.length>1){var a=e.videoTag.currentTime,i=r.curIndex;return $.each(t,function(e,r){return i>e?void(a+=r.duration||0):!1}),a}return e.videoTag.currentTime}),n=function(e){{var r=e.videoData;e.cache}if(0!==e.currentTime&&!e._makeHistoryFlag){var t={playTime:e.currentTime,duration:r.totalDuration,title:r.tvname||""};a.setHistory(t),e._makeHistoryFlag=!0,setTimeout(function(){e._makeHistoryFlag=!1},1e3)}},s=function(e){var r=e.videoData;if(e.cache.isRemHistory){var t={vid:r.vid,site:r.site},o=a.getHistory(t),n=null;o.length>0&&(n=o[0],i.log("prgress:",n.playTime),e.seekTo(n.playTime)),e._playByHistoryFlag=!0}},d=function(e){e._addEvent("timeupdate",function(){e._sendVVFlag||(e._sendVVFlag=!0),!ddvp.debug.isShowPlayerPlayStartTime&&e.currentTime>0&&(i.log("视频加载时间:"+(Date.now()-ddvp.debug.playerPlayStartTime)/1e3+"秒"),ddvp.debug.isShowPlayerPlayStartTime=!0);var r=e.cache;""===e.videoData.totalDuration&&e.videoTag.duration&&(r.duration=e.videoData.duration=e.videoData.totalDuration=e.videoTag.duration);var a=e.duration=r.duration,d=e.currentTime=o(e);if(d>0&&((!t.IsIphone||t.IsIphone&&t.IsWeiXinBrowser)&&e.hidePoster(),e._hideLoading(),d>1)){e._sendRealVVFlag||(e._sendRealVVFlag=!0),r.isRemHistory&&(e._playByHistoryFlag||s(e),n(e)),d>0&&Math.abs(d-e._lastCurTime)>2&&(e._startPlayTime=$.now()),(t.IsIphone||t.IsOldWindowsPhone)&&e.$midModeList.oriHide(),e._lastCurTime=d,!e._sendEndFlag&&d>a-15&&(e._sendEndFlag=!0),null===e._traceHeartInterval&&(e._traceHeartInterval=setInterval(function(){},12e4)),e._changeModeFlag=!1,e._dragRangeFlag=!1,e._firstWaitingFlag=!1,t.IsIphone&&!t.IsWeiXinBrowser||t.IsOldWindowsPhone||/Android\/?\s?2\../i.test(t.UA)||t.IsQQBrowser||t.IsUCBrowser?e._showPlayBtn():t.IsIphone||t.IsIpad||e._showPauseBtn();var l=d/a*100+"%";if(d>=a&&r.timeLimit===a){d=a,l="100%";var u=r.timeLimit,c=(u-u%60)/60;c=u%60===0?c:c+1}d>a&&(d=a),e.$ctrlCurTime.html($.formatSeconds(d)),e.$ctrlDuration.html($.formatSeconds(a)),e._dragFlag||e.$ctrlCurPlayedBar.css({width:l}),t.IsUCBrowser&&t.IsIphone&&parseInt(d,10)===parseInt(a,10)&&e._fireEvent("ended")}})},l=function(e){e.$ctrlDragAnchor.on(t.START_EVENT,function(r){return clearTimeout(e._hideMainCtrlTime),clearTimeout(e._rewindForwardInterval),e.$midRewindForwardCon.oriShow(),e._dragFlag=!0,e._dragRangeFlag=!0,e._touchStratX=r.touches&&r.touches[0]?r.touches[0].pageX:r.pageX,!1}),e.$ctrlDragAnchor.on(t.MOVE_EVENT,function(r){if(e._dragFlag){var t=e.$ctrlTrackBar.width(),a=e.duration,i=e.currentTime;clearTimeout(e._hideMainCtrlTime),clearTimeout(e._rewindForwardInterval);var o=function(r,t){e.$mid.oriShow(),i>r?e.$midRewindForwardCon.addClass("rewind").removeClass("forward"):e.$midRewindForwardCon.addClass("forward").removeClass("rewind"),e._moveTime=r,e.$midTime.html($.formatSeconds(r)),e.$ctrlCurPlayedBar.width(r/t*100+"%")};e._touchMoveX=r.touches&&r.touches[0]?r.touches[0].pageX:r.pageX;var n=a/t*(e._touchStratX-e._touchMoveX)*-1,s=i+n;0>s?o(0,a):s>a?o(a,a):o(s,a)}return!1}),e.$ctrlDragAnchor.on(t.END_EVENT+" mouseout",function(){return e._dragFlag&&(e._dragFlag=!1,e.seekTo(e._moveTime),e._startPlayTime=$.now(),e._rewindForwardInterval=setTimeout(function(){e.$midRewindForwardCon.oriHide()},2e3),e._hideMainCtrlTime=setTimeout(function(){e._hideMainCtrl()},3e3)),!1})},u=function(e){e.$ctrlBar.on(t.END_EVENT,function(){return!1}),e.$ctrlTrackBar.on(t.START_EVENT,function(r){var t=$(this),a=r.touches&&r.touches[0]?r.touches[0].pageX:r.pageX,i=a-t.offset().left,o=t.width(),n=e.duration/o*i;return e._startPlayTime=$.now(),e.seekTo(n),!1})};r.prototype._initCtrlProgress=function(){this._sendRealVVFlag=!1,this._sendEndFlag=!1,this._playByHistoryFlag=!1,this._makeHistoryFlag=!1,this._lastCurTime=0,this._startPlayTime=0,this._bufferCount=0,this._traceHeartInterval=null,this._rewindForwardInterval=null,this._dragRangeFlag=!1,this._changeModeFlag=!1,this._firstWaitingFlag=!0,this._dragFlag=!1,this._touchStratX=0,this._touchMoveX=0,this._moveTime=-1,d(this),"live"!==this.config.mediaType&&(l(this),u(this))}});
;define("ddplayer/player/ctrlButton.js",function(i){"use strict";var t=i("ddplayer/base/vars.js"),o=i("ddplayer/player/mediaPlayer.js");o.prototype._showPlayBtn=function(){this.$ctrlPlay.oriShow(),this.$ctrlPause.oriHide()},o.prototype._showMidPlayBtn=function(){this._hideLoading(),this._hideMainCtrl(),this.$ctrlBar.oriHide(),this.$midModeListCon.oriHide(),this.$mid.oriShow(),this.$midPlay.oriShow(),this.$title.oriHide()},o.prototype._showPauseBtn=function(){this.$ctrlPlay.oriHide(),this.$ctrlPause.oriShow()},o.prototype._showLoading=function(){t.IsIOS&&(t.IsQQBrowser||t.IsUCBrowser)||(t.IsBaiduBrowser||this.$midPlay.oriHide(),this.$loading.oriShow(),this.$mid.oriHide())},o.prototype._hideLoading=function(){t.IsBaiduBrowser||this.$midPlay.oriHide(),this.$loading.oriHide()};var r=function(i){i.$midPlay.on(t.END_EVENT,function(){return $(this).oriHide(),i._playOrPause("play"),!1})},s=function(i){i.$ctrlPlay.on(t.END_EVENT,function(){return i._playOrPause("play"),!1}),i.$ctrlPause.on(t.END_EVENT,function(){return i._playOrPause("pause"),!1}),i._addEvent("pause",function(){i._hideLoading(),i._showPlayBtn(),i._showMainCtrl()}),(!t.IsIphone||t.IsIphone&&t.IsWeiXinBrowser)&&(i._addEvent("play",i._showPauseBtn),i._addEvent("playing",i._showPauseBtn))};o.prototype._initCtrlButton=function(){r(this),s(this)}});
;define("ddplayer/player/ctrlFullscreen.js",function(e){"use strict";var l=e("ddplayer/base/vars.js"),r=e("ddplayer/player/mediaPlayer.js");r.prototype._isSupportSysFullScreen=function(){var e=!1,l=this.videoTag;return l.requestFullscreen?e=!0:l.mozRequestFullScreen?e=!0:l.webkitRequestFullscreen?e=!0:l.webkitEnterFullscreen?e=!0:l.msRequestFullscreen&&(e=!0),$(this.videoTag).hasClass("inline_player")&&!$.isEmpty(this.cache.fullscreenType)&&"1"!==this.cache.fullscreenType&&(e=!1),e},r.prototype._apiEnterFullScreen=function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.webkitEnterFullscreen?e.webkitEnterFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},r.prototype._apiExitFullScreen=function(e){e.exitFullscreen?e.exitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.webkitCancelFullScreen?e.webkitCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen()},r.prototype._enterSysFullScreen=function(){var e=this;!l.UA.match(/HS\-U950|HUAWEI_C8812|vivo/i)||l.IsUCBrowser||l.IsQQBrowser||e.videoTag.play();var r=function(){e.videoTag.paused&&!l.IsIOS&&setTimeout(function(){e.videoTag.play()},0)};if(this._isSupportSysFullScreen()){var n=e.videoTag;document.addEventListener("fullscreenchange",r,!1),document.addEventListener("mozfullscreenchange",r,!1),document.addEventListener("webkitfullscreenchange",r,!1),document.addEventListener("MSFullscreenChange",r,!1),e._apiEnterFullScreen(n)}setTimeout(function(){e.videoTag.play()},0)},r.prototype._exitSysFullScreen=function(){var e=this,l=e.videoTag;e._apiExitFullScreen(l)},r.prototype._fullOrShrink=function(e){var r=this;clearTimeout(this._hideMainCtrlTime),"fullScreen"===e?"1"===this.cache.fullscreenType?this._enterSysFullScreen():(l.IsIphone&&!l.IsWeiXinBrowser||l.IsOldWindowsPhone||l.IsAndroid&&l.IsQQBrowser||l.IsBaiduBrowser?this._playOrPause("play"):($("html").addClass("position_fullscreen"),this._scrollTop=document.body.scrollTop,this.$ctrlFullScreen.oriHide(),this.$ctrlShrinkScreen.oriShow()),$(".finPic").oriHide()):($("html").removeClass("position_fullscreen"),this.$ctrlFullScreen.oriShow(),this.$ctrlShrinkScreen.oriHide(),document.body.scrollTop=this._scrollTop,setTimeout(function(){$(".finPic").oriShow()},500)),this._hideMainCtrlTime=setTimeout(function(){r._hideMainCtrl()},3e3)};var n=function(e){e.$ctrlFullScreen.on(l.END_EVENT,function(){return e._fullOrShrink("fullScreen"),!1}),e.$ctrlShrinkScreen.on(l.END_EVENT,function(){return e._fullOrShrink("shrinkScreen"),!1})};r.prototype._initCtrlFullscreen=function(){n(this)}});
;define("ddplayer/player/controls.js",function(t){"use strict";t("ddplayer/player/ctrlProgress.js"),t("ddplayer/player/ctrlButton.js"),t("ddplayer/player/ctrlFullscreen.js");var i=t("ddplayer/base/vars.js"),r=t("ddplayer/player/mediaPlayer.js");r.prototype._hideMainCtrl=function(){var t=this;clearInterval(this._mainCtrlInterval),(!i.IsIphone||i.IsIphone&&i.IsWeiXinBrowser)&&(this._mainCtrlInterval=setTimeout(function(){t.$title.oriHide(),t.$ctrlBar.oriHide(),t.$midModeListCon.oriHide()},200))},r.prototype._showMainCtrl=function(){var t=this;clearInterval(this._mainCtrlInterval),this._mainCtrlInterval=setTimeout(function(){t.$title.oriShow(),t.$ctrlBar.oriShow(),t.$midModeListCon.oriShow()},200)},r.prototype._initMainClick=function(){var t=this;this._mainCtrlInterval=null,this.$ctrlCon.on(i.END_EVENT,function(){"block"===t.$midPlay.css("display")&&t._playOrPause("play"),"none"===t.$ctrlBar.css("display")?(t._showMainCtrl(),clearTimeout(t._hideMainCtrlTime),t._hideMainCtrlTime=setTimeout(function(){t._hideMainCtrl()},3e3)):t._hideMainCtrl()})},r.prototype._initControls=function(){this._initCtrlProgress(),this._initCtrlButton(),this._initMainClick(),this._initCtrlFullscreen()}});
;define("ddplayer/player/loadCacheData.js",function(t,e,i){"use strict";var r=t("ddplayer/base/vars.js"),s=(t("cookie"),t("ddplayer/base/special.js"),{vid:"",elemId:"",poster:"",posterType:"",mediaType:"",modeType:"",modeTypeList:[],srcType:"",width:"",height:"",volume:0,curPlayUrl:"",srcList:{},pointList:[],autoplay:!1,defControls:!1,loop:!1,preload:!1,title:"",duration:0,curIndex:-1,totCounts:-1,history:{},ipLimit:"",liveEnName:"",liveIcon:"",liveId:"",timeLimit:-1,liveUrl:"",vidList:[],vidCurIndex:-1,debug:!1,mainActor:"",latestCount:"",desc:"",oriUrls:null,fullscreenType:0,isRemHistory:!1,modeList:["nor","hig","sup","app"]}),n=function(t,e){$.extend(this,s),$.merge(this,t),$.isUndefined(e)||this._initVOD(e)};n.prototype.getPlayList=function(){return this.srcList[this.modeType]||[]},n.prototype.getNextUrl=function(){var t=this.getPlayList(),e=this.curIndex+1,i=t[e];return $.isUndefined(i)?"":i.url},n.prototype.getFirstUrl=function(){var t=this.getPlayList(),e=t[0];return $.isUndefined(e)?"":e.url},n.prototype._initVOD=function(t){var e=this;e.poster="horizon"===e.posterType?t.horHighPic||t.verHighPic||"":t.verHighPic||t.horHighPic||"";var i=t.totalDuration||t.total_duration||0;e.duration=parseInt(i,10),e.timeLimit>-1&&e.timeLimit<e.duration&&(e.duration=e.timeLimit),e.title=t.tvname||t.videoName||t.video_name||"",e.mainActor=t.main_actor||"",e.latestCount=t.latest_video_count||"",e.desc=t.video_desc||"",e.srcType=t.srcType||"mp4",$.isUndefined(t.urls)||(e.oriUrls=t.urls),!$.isUndefined(t.ep)&&t.ep instanceof Array&&$.each(t.ep,function(t,i){var r={};r.time=parseInt(i.k,10),r.desc=i.v,e.pointList.push(r)}),e.vid=t.vid;var s=!1;if(!$.isUndefined(t.urls)){var n=t.urls[e.srcType],o=t.durations;for(var a in n)e.srcList[a]=[],n[a]instanceof Array&&$.each(n[a],function(i,r){var s={};s.url=r,s.duration="m3u8"===e.srcType?t.totalDuration||t.total_duration||-1:parseInt(o[a][i]||-1,10),e.srcList[a].push(s)}),!s&&e.srcList[a].length>0&&(s=!0,e.totCounts=e.srcList[a].length);var d=function(){var i={};i.url="",$.isUndefined(t.urls.downloadUrl)||(i.url=t.urls.downloadUrl[0]||""),i.duration=parseInt(e.duration||-1,10),e.srcType="mp4",e.modeType=e.modeType,e.srcList.nor=[i],e.totCounts=e.srcList.nor.length};s||"client"===e.srcType||d(),e.totCounts>0&&(e.curIndex=0),!r.IsIphone&&r.IsUCBrowser&&"client"!==e.srcType&&d(),/Android 2./i.test(r.UA)&&d(),e._initCurPlayUrlAndModeType()}},n.prototype._initCurPlayUrlAndModeType=function(){var t=this,e=t.getPlayList(),i=this.modeList;$.each(i,function(i,r){if(!$.isUndefined(t.srcList[r])&&t.srcList[r].length>0){if(0===e.length)return t.modeType=r,!1;t.modeTypeList.push(r)}}),$(i).indexOf("app")>-1&&this.modeTypeList.push("app"),e=this.getPlayList(),e.length>0&&(this.curPlayUrl=e[0].url)},i.exports=n});
;define("ddplayer/player/settings.js",function(d,e,a){"use strict";var i=(d("ddplayer/base/special.js"),{});i.PLAY_MODE={nor:"",hig:"高清",sup:"超清",ori:"原画"};var n={data:null,mainId:"",playerId:"",width:"100%",height:"100%",pWidth:"",pHeight:"",volume:1,elemId:"ddvideo_video_player_"+Date.now(),dataType:"",autoplay:!0,defControls:!1,loop:!1,preload:!1,modeType:"nor",posterType:"horizon",debug:!1,fullscreenType:1,isRemHistory:!1};i.initConfig=function(d){var e=$.extend({},n,d);return null!==e.data&&(e.data=$.extend({},e.data)),""===e.mainId&&($.isUndefined(ddvp.mainId)&&(ddvp.mainId=1),e.mainId="ddvp_main_"+ddvp.mainId,ddvp.mainId++),e},a.exports=i});
;define("ddplayer/player/html5UI.js",function(i,e,d){"use strict";{var s=ddvp.template,a=i("ddplayer/base/vars.js"),l=(i("ddplayer/base/special.js"),i("ddplayer/player/settings.js")),t={},r={param:{},model:{},view:{},ctrl:{}},n=(r.param,r.model),o=r.view;r.ctrl}n.parseCache=function(i){var e={title:i.title||"",poster:i.poster||"",pointList:[{left:0}],mainId:i.mainId||"ddvp_main_1",height:i.height||"100%",width:i.width||"100%",srcType:i.srcType||"mp4",elemId:i.elemId||"",autoplay:i.autoplay||!1,defControls:i.defControls||!1,isInitSrc:!1,isIphone:a.IsIphone||!1,isUCBrowser:a.IsUCBrowser||!1,isQQBrowser:a.IsQQBrowser||!1,IsWeiXinBrowser:a.IsWeiXinBrowser||!1,isIphoneWeixinBrowser:a.IsWeiXinBrowser&&a.IsIphone||!1,curMode:i.modeType||"",curModeName:l.PLAY_MODE[i.modeType],selList:[]};return $.each(i.modeTypeList,function(i,d){if(d!==e.curMode){var s={mode:d,modeName:l.PLAY_MODE[d]};e.selList.push(s)}}),e},n.parseConfig=function(i){var e={mainId:i.mainId||"ddvp_main_1",height:i.height||"100%",width:i.width||"100%"};return e},o.videoTag=function(){var i='<div class="video"><% if (srcType === "client") { %><div data-noSupport="noSupport"<% } else { %><video<% } %> id="<%=elemId%>"<% if (autoplay) { %> autoplay<% } %><% if (isIphoneWeixinBrowser) { %> webkit-playsinline<% } %><% if (defControls) { %> controls<% } %> x-webkit-airplay="isHtml5UseAirPlay"<% if (autoplay) { %> preload="none"<% }%> src="<%=curPlayUrl%>" height="<%=height%>" width="<%=width%>"<% if (isIphone && !IsWeiXinBrowser) { %> style="position:absolute; left:-200%;"<% } else if (!autoplay && isUCBrowser) { %> style="display: none;"<% } %>></div>';return i},o.ctrl=function(){var i='<div class="player_controls ddvp_ctrl"><div class="mid ddvp_mid"><span class="mid_play ddvp_mid_play"><b></b></span><span class="mid_rewind_forward rewind ddvp_mid_rewind_forward" style="display:none;"><b class="mid_forward"></b><b class="mid_rewind"></b><span class="mid_time ddvp_mid_time">02:04</span></span></div><div class="slider_bar ddvp_ctrl_bar"><div class="left_btn_play"><div class="ddvp_ctrl_play"><b class="state_play"></b></div><div class="ddvp_ctrl_pause" style="display:none;"><b class="state_pause"></b></div></div><div class="action_trackBar ddvp_ctrl_track_bar"><% if (!((isUCBrowser || isQQBrowser) && isIphone)) { %><div class="trackbar"><b class="buffered ddvp_ctrl_buffer"></b><div class="click_area ddvp_ctrl_click_area"><div class="time_points ddvp_ctrl_points"><% for (var i = 0, l = pointList.length; i < l; i++) { %><em style="left:<%=pointList[i].left%>"></em><% } %></div></div><b class="played ddvp_ctrl_played_bar"><em class="handle ddvp_ctrl_drag_anchor"></em></b></div><% } %></div><% if (!((isUCBrowser || isQQBrowser) && isIphone)) { %><div class="time ddvp_ctrl_time"><b class="current_time ddvp_ctrl_cur_time">00:00</b> / <span class="duration ddvp_ctrl_duration" data-key="totalDuration" data-type="time">00:00</span></div><% } %><div class="controllers ddvp_ctrl_screen"><div class="fullscreen disabled ddvp_ctrl_full_screen"><span></span></div><div class="shrinkscreen disabled ddvp_ctrl_shrink_screen" style="display:none;"><span></span></div></div></div>';return i},o.playMode=function(){var i='<% if (curMode !== "" && selList.length > 0) { %><div class="quality_button quality_container ddvp_mid_mode<% if (selList.length > 2) { %> smaller<% } %>"><% if (selList.length > 0) { %><div class="quality_definition_button ddvp_mid_cur_mode_btn"><span class="ddvp_mid_cur_mode" data-mode="<%=curMode%>"><%=curModeName%></span></div><div class="quality_definition_list"><ul class="ddvp_mid_mod_list"><% for (var i = 0, l = selList.length; i < l; i++) { %><li data-mode="<%=selList[i].mode%>"><span><%=selList[i].modeName%></span></li><% } %></ul></div><% } %></div><% } %>';return i},o.video=function(){var i='<div class="player_main ddvp_player_main">'+o.videoTag()+'<div class="video_title ddvp_title"><strong><span class="ddvp_title_content title_content"><%=title%></span></strong></div><div class="poster ddvp_poster" style="background-image:url(<%=poster%>);"></div>'+o.ctrl()+o.playMode()+'<div class="mask-layer ddvp_mask_layer" style="display: none;"></div></div>';return i},o.loading=function(){var i='<div class="player inline_player" id="<%=mainId%>" style="height:<%=height%>; width:<%=width%>"><div class="ddvp_player_loading player_loading"></div><div class="ddvp_player_loading_notice player_loading_notice">努力加载中,请稍后...</div></div>';return i},t.makeVideoTmpl=function(i){var e=s.compile(o.video()),d=n.parseCache(i);return e(d)},t.makeLoadingTmpl=function(i){var e=s.compile(o.loading()),d=n.parseConfig(i);return e(d)},d.exports=t});
;define("ddplayer/player/update.js",function(e){"use strict";var a=e("ddplayer/player/mediaPlayer.js"),i=e("ddplayer/base/vars.js"),t=e("ddplayer/player/loadCacheData.js"),d=e("ddplayer/base/special.js"),o=e("ddplayer/player/html5UI.js"),s=e("ddplayer/player/errorTypes.js"),r=e("ddplayer/base/console.js"),n=e("ddplayer/player/settings.js"),l=function(e){var a="error";if(!$.isUndefined(e)&&null!==e)if($.isUndefined(e.urls)||$.isUndefined(e.durations))$.isUndefined(e.vid)&&$.isUndefined(e.liveId)?$.isUndefined(e.src)||(a="source"):a="partial";else try{var t=i.IsIphone||i.IsQQBrowser?"m3u8":"mp4";t=d.isDiDiForceUseMp4()?"mp4":t,a="whole";for(var o in e.urls[t])e.durations[o].length!==e.urls[t][o].length&&(a="partial")}catch(s){a="partial"}return a},c=function(e){var a=e.cache;!$.isUndefined(e.adv)&&$.isFunction(e.adv.hideMediaView)&&e.adv.hideMediaView(),e.$title.html(a.title),document.title=a.title,e.$ctrlCurTime.html($.formatSeconds(0)),e.$ctrlDuration.html($.formatSeconds(a.duration)),e.$ctrlCurPlayedBar.css({width:0}),e.changePoster({url:a.poster})},p=function(e,a){if(e.trigger("loadedvideodata"),"videoDataList"===e.videoList.type){var d=e.videoList.videoDataList[e.videoList.curIndex];a.timeLimit=d.timeLimit||"0"}if(window.videoData=a,e.cache=new t(e.config,a),e.videoData=$.extend({},a),e._firstLoadFlag){if(e.$player.append(o.makeVideoTmpl(e.cache)),r.log("加载dom完成, 耗时--->"+(Date.now()-ddvp.debug.playerLoadDomStartTime)/1e3),e._initDoms(),"noSupport"===e.$video.attr("data-nosupport")){var n=s.SUPPORT[300];return void e._showMsg({text:n,btns:{btnA:{text:"暂时无法播放"}}})}e._loadedDomFlag=!0,e._initEvent(),e._initControls(),e._initException(),e._autoNextVideoService(),e.$loadingDesc.oriHide(),e.$video.length>0&&(e.videoTag.volume=e.config.volume,e.$ctrlDuration.html($.formatSeconds(e.cache.duration)))}else c(e);e.setSrc(e.cache.curPlayUrl),e.duration=e.cache.duration,e.currentTime=0,e._hideLoading(),e.cache.autoplay?(e.$midPlay.oriHide(),e._sendVVFlag||(r.log("统计: vv"),e._sendVVFlag=!0),e._playOrPause("play")):(e._playOrPause("pause"),e._hideMainCtrl(),e._showMidPlayBtn(),e.showPoster(),(i.IsUCBrowser||i.IsQQBrowser&&!/QQBrowser\/4\.2/i.test(i.UA))&&e.$video.oriHide()),e._firstLoadFlag,r.log("播放器加载时间:"+(Date.now()-ddvp.debug.playerLoadStartTime)/1e3+"秒"),e._sendPlayDisplayCompleteFlag||(r.log("发送行为统计点:(play_display_complete)"),e._sendPlayDisplayCompleteFlag=!0)};a.prototype.updateMedia=function(e,a){var t=this;if(!$.isUndefined(e)){var d=l(e);if("error"!==d){if(null!==t.videoData&&(t.hideRecommend(),t.config.isShowRecommend&&"source"===d&&t.videoData.video_src.indexOf(e.src)>-1))return void(t._showRecommendFlag=!0);t._showRecommendFlag=!1,t._firstLoadFlag||(ddvp.debug.playerLoadStartTime=Date.now(),this._sendRealVVFlag&&!this._sendEndFlag&&(r.log("统计: ended"),this._sendEndFlag=!0),$.isUndefined(this.videoData)||(this.config.data=this.videoData,this.config.dataType="video_data"),this._sendVVFlag=!1,this._sendRealVVFlag=!1,this._sendStartFlag=!1,this._sendEndFlag=!1,this._playByHistoryFlag=!1,this._timeoutFlag=!1,$.isUndefined(this.config)&&(this.config=n.initConfig({})),e=$.extend({},e),"undefined"!=typeof a&&(this.config.autoplay=a),this._playOrPause("pause"),i.IsBaiduBrowser||this._showLoading()),"partial"===d||"source"===d?(this._getDataFlag=!1,setTimeout(function(){t._getDataFlag||(t._timeoutFlag=!0,t._showMsg({text:s.REQUEST[400],btns:{btnA:{text:"刷新",callback:function(){t._timeoutFlag=!1,t._hideMsg(),t.updateMedia(e,a)}}}}))},this._dataTimeout),ddvp.debug.playerLoadMediaDataStartTime=Date.now()):p(t,e)}else t._showMsg({text:s.PROCESS[202]})}}});
;define("ddplayer/player/poster.js",function(e){"use strict";var t=e("ddplayer/player/mediaPlayer.js");t.prototype.hidePoster=function(){this.$posterCon.length>0&&this.$posterCon.addClass("hidden")},t.prototype.showPoster=function(){this.$posterCon.length>0&&this.$posterCon.removeClass("hidden")},t.prototype.changePoster=function(e){e&&e.url&&this.$posterCon.length>0&&this.$posterCon.css({"background-image":"url("+e.url+");"})}});
;define("ddplayer/player/message.js",function(n){"use strict";var s=n("ddplayer/base/vars.js"),t=n("ddplayer/player/mediaPlayer.js"),a=function(n){var s="";return n.background&&(s+="background:"+n.background+";"),n.color&&(s+="color:"+n.color+";"),n.fontSize&&(s+="font-size:"+n.fontSize+";"),s},i=function(n,s,t){return'<a href="'+(n.link?n.link:"javascript:void(0);")+'" class="msg_btn_'+t+" msg_btn "+(n.ClassName?n.ClassName:"")+'" style="'+s+'">'+n.text+"</a>"};t.prototype._hideMsg=function(){this.$main&&0!==this.$main.length||this._initDoms(),this.$main.children(".message").hide(),this.$main.find(".player_main").length&&this.$main.find(".player_main").show()},t.prototype._showMsg=function(n){this.$main&&0!==this.$main.length||this._initDoms(),this._pause(),this._hideLoading(),this.$main.find(".player_main").length&&this.$main.find(".player_main").hide();var t,e,l,c,b,m;t=l=b=m="",t=a(n),e=n.dom?n.dom:'<div class="msg_cont"><span class="msg">'+n.text+"</span></div>",n.btns&&(n.btns.btnA&&(b=a(n.btns.btnA),l+=i(n.btns.btnA,b,"a")),n.btns.btnB&&(m=a(n.btns.btnB),l+=i(n.btns.btnB,m,"b")),""!==l&&(l='<div class="msg_btns">'+l+"</div>")),c='<div class="message '+(n.className?n.className:"")+'" style="'+t+'"><div class="inner_msg">'+e+l+"</div></div>",this.$main.children(".message").length?this.$main.find(".message").empty().append('<div class="inner_msg">'+e+l+"</div>").attr("style",t).show():this.$main.append(c),n.btns&&(n.btns.btnA&&n.btns.btnA.callback&&$.isFunction(n.btns.btnA.callback)&&this.$main.find(".message .msg_btn_a").on(s.END_EVENT,function(){n.btns.btnA.callback.call(this)}),n.btns.btnB&&n.btns.btnB.callback&&$.isFunction(n.btns.btnB.callback)&&this.$main.find(".message .msg_btn_b").on(s.END_EVENT,function(){n.btns.btnB.callback.call(this)})),n.callback&&$.isFunction(n.callback)&&n.callback.call(this.$main.find(".message")[0])}});
;define("ddplayer/player/videoList.js",function(i){"use strict";var e=i("ddplayer/player/mediaPlayer.js"),t=i("ddplayer/player/errorTypes.js");e.prototype._videoList=function(i){if($.isUndefined(i))return this._showMsg({text:t.PROCESS[202]}),!1;var e={};return!$.isUndefined(i.vidList)&&$.isArray(i.vidList)?(e.vidList=i.vidList,e.site=i.site||"1",e.curIndex=0,e.type="vidList"):!$.isUndefined(i.videoDataList)&&$.isArray(i.videoDataList)&&(e.videoDataList=i.videoDataList,e.curIndex=0,e.type="videoDataList"),e}});
;define("ddplayer/player/exception.js",function(e){"use strict";var n=e("ddplayer/player/mediaPlayer.js"),r=e("ddplayer/base/vars.js"),t=e("ddplayer/base/util.js");n.prototype._sendException=function(){console.log("play error")};var c=function(e){if(/2g|3g/i.test(t.getConnectionType()))return!1;var n=e.cache;e._sendException({}),r.IsIOS?e.trigger("ended"):r.IsAndroid&&(n.curIndex<n.totCounts?(e.pause(),e._showLoading(),e.cache.curPlayUrl=e.cache.getNextUrl(),e.setSrc(e.cache.curPlayUrl),n.curIndex++,e.play()):e.trigger("ended"))},o=function(e){e._addEvent("error",function(){c(e)})},i=function(){};n.prototype._initException=function(){o(this),i(this)}});
;define("ddplayer/player/didiPlayer.js",function(i,t,e){"use strict";i("ddplayer/player/events.js"),i("ddplayer/player/controls.js"),i("ddplayer/player/update.js"),i("ddplayer/player/poster.js"),i("ddplayer/player/message.js"),i("ddplayer/player/videoList.js"),i("ddplayer/player/exception.js");var s=i("ddplayer/base/vars.js"),d=i("ddplayer/base/console.js"),r=i("ddplayer/player/mediaPlayer.js"),a=i("ddplayer/player/html5UI.js"),o=i("ddplayer/player/settings.js"),l=i("ddplayer/player/errorTypes.js");r.prototype._init=function(i){this._hideMainCtrlTime=null,this._firstLoadFlag=!0,this._dataTimeout=5e3,this._showRecommendFlag=!1,this._sendVVFlag=!1,this.config=o.initConfig(i),this._sendPlayDisplayCompleteFlag=!1},r.prototype.htmlTo=function(i){if(i=$(i),i.length>0){var t=this;if(this.$parentDom=i,$.isUndefined(this.$player)){ddvp.debug.playerLoadDomStartTime=Date.now(),i.html(a.makeLoadingTmpl(this.config)),d.log("加载loading完成, 耗时--->"+(Date.now()-ddvp.debug.playerLoadDomStartTime)/1e3),this.$player=$("#"+this.config.mainId),this.$playerLoading=$("#"+this.config.mainId+" .ddvp_player_loading"),this._getDataFlag=!1;var e=this.config.data;if($.isUndefined(e))t._showMsg({text:l.PROCESS[202]});else if($.isUndefined(e.vidList)&&$.isUndefined(e.videoDataList)){var s={videoDataList:[e]};this.videoList=this._videoList(s),this.updateMedia(e)}else{var r,o=this.videoList=this._videoList(e);try{r="vidList"===o.type?{vid:o.vidList[o.curIndex],site:o.site}:o.videoDataList[o.curIndex]}catch(n){t._showMsg({text:l.PROCESS[204]})}this.updateMedia(r)}}else this.$parentDom.html(this.$main),this.cache.autoplay&&this._playOrPause("play")}},r.prototype._initDoms=function(){var i="#"+this.config.mainId;this.$main=$(i),this.$loading=$(i+" .ddvp_player_loading"),this.$loadingDesc=$(i+" .ddvp_player_loading_notice"),this.$video=$(i+" #"+this.config.elemId),this.videoTag=$(i+" #"+this.config.elemId)[0],this.$titleCon=$(i+" .ddvp_title"),this.$title=$(i+" .ddvp_title_content"),this.$posterCon=$(i+" .ddvp_poster"),this.$posterRight=$(i+" .ddvp_poster_right"),this.$mid=$(i+" .ddvp_mid"),this.$midPlay=$(i+" .ddvp_mid_play"),this.$midRewindForwardCon=$(i+" .ddvp_mid_rewind_forward"),this.$midTime=$(i+" .ddvp_mid_time"),this.$midModeListCon=$(i+" .ddvp_mid_mode"),this.$mideCurModeBtn=$(i+" .ddvp_mid_cur_mode_btn"),this.$midCurMode=$(i+" .ddvp_mid_cur_mode"),this.$midModeList=$(i+" .ddvp_mid_mod_list"),this.$midModeLi=$(i+" .ddvp_mid_mod_list li"),this.$ctrlCon=$(i+" .ddvp_ctrl"),this.$ctrlBar=$(i+" .ddvp_ctrl_bar"),this.$ctrlPlay=$(i+" .ddvp_ctrl_play"),this.$ctrlPause=$(i+" .ddvp_ctrl_pause"),this.$ctrlBuffer=$(i+" .ddvp_ctrl_buffer"),this.$ctrlPointsCon=$(i+" .ddvp_ctrl_points"),this.$ctrlCurPlayedBar=$(i+" .ddvp_ctrl_played_bar"),this.$ctrlTime=$(i+" .ddvp_ctrl_time"),this.$ctrlCurTime=$(i+" .ddvp_ctrl_cur_time"),this.$ctrlDuration=$(i+" .ddvp_ctrl_duration"),this.$ctrlDragAnchor=$(i+" .ddvp_ctrl_drag_anchor"),this.$ctrlTrackBar=$(i+" .ddvp_ctrl_track_bar"),this.$ctrlScreen=$(i+" .ddvp_ctrl_screen"),this.$ctrlFullScreen=$(i+" .ddvp_ctrl_full_screen"),this.$ctrlShrinkScreen=$(i+" .ddvp_ctrl_shrink_screen"),this.$maskLayer=$(i+" .ddvp_mask_layer")},r.prototype._playOrPause=function(i){var t=this;ddvp.debug.playerPlayStartTime=Date.now(),clearTimeout(this._hideMainCtrlTime),"pause"===i?(this._pause(),s.IsNewWindowsPhone?setTimeout(function(){t._showPlayBtn()},300):this._showPlayBtn(),this._showMainCtrl()):(!this._sendVVFlag&&(s.IsBaiduBrowser||s.IsBaiduBoxApp||s.IsIOS&&(s.IsQQBrowser||s.IsUCBrowser))&&(d.log("统计: vv"),this._sendVVFlag=!0),!this._sendRealVVFlag&&((/QQBrowser\/5\./i.test(s.UA)||s.IsUCBrowser)&&s.IsIOS||($.isUndefined(this.adv)||this.adv.isMediaPlayed)&&s.IsBaiduBoxApp)&&(d.log("统计: reallvv"),this._sendRealVVFlag=!0),(s.IsUCBrowser||s.IsQQBrowser)&&this.$video.oriShow(),(/UCBrowser\/9\./i.test(s.UA)||s.IsSonyPhone||s.IsVivoPhone||s.IsUCBrowser)&&s.IsAndroid?setTimeout(function(){t._play()},50):s.IsWindowsPhone?setTimeout(function(){t._play()},300):!this._firstLoadFlag&&s.IsIOS&&s.IsQQBrowser?setTimeout(function(){t._play()},50):this._play(),this._startPlayTime=$.now(),this._hideMainCtrlTime=setTimeout(function(){t._hideMainCtrl()},3e3),this._firstLoadFlag?(s.IsIphone||s.IsBaiduBrowser||!this.cache.autoplay||(this.$midPlay.oriShow(),this._showPlayBtn(),this.showPoster()),this._showLoading(),this._firstLoadFlag=!1):s.IsBaiduBrowser?this._hideLoading():this._showLoading(),s.IsOldWindowsPhone||s.IsBaiduBrowser,s.IsIphone&&(s.IsUCBrowser||s.IsQQBrowser||s.IsWeiXinBrowser||s.IsDiDiBrowser)&&this._showMainCtrl())},r.prototype._autoNextVideoService=function(){var i=this;i.config.isShowRecommend&&(i._showRecommendFlag=!0,this.on("ended",function(){setTimeout(function(){if(i._showRecommendFlag){d.log("显示相关推荐");var t=i.videoList,e=t.curIndex,s=null;"vidList"===t.type&&e<t.vidList.length-1?(t.curIndex++,s={vid:t.vidList[t.curIndex],site:t.site}):"videoDataList"===t.type&&e<t.videoDataList.length-1&&(t.curIndex++,s=t.videoDataList[t.curIndex]),d.log("nextVideo"+s),null!==s?i.updateMedia(s,!0):(d.log("showRecommend 11"),i.showRecommend())}},800)}))},e.exports=r});
;define("ddplayer",function(e,n,t){!function(){window.ddvp=window.ddvp||{},window.ddvp.debug={};var e=Date.now();ddvp.debug.playerLoadStartTime=e||0,ddvp.debug.playerLoadScriptTime=e||0,ddvp.debug.playerPlayStartTime=0,ddvp.debug.playerLoadDomStartTime=0,ddvp.debug.playerLoadAdDataStartTime=0,ddvp.debug.playerLoadMediaDataStartTime=0,ddvp.debug.isShowPlayerPlayStartTime=!1}(),window.ddvp="undefined"==typeof window.ddvp?{}:window.ddvp,!function(e,r){function i(e){return e.replace(S,"").replace(T,",").replace(_,"").replace(j,"").replace(E,"").split(k)}function o(e){return"'"+e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function a(e,n){function t(e){return p+=e.split(/\n/).length-1,d&&(e=e.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),e&&(e=g[1]+o(e)+g[2]+"\n"),e}function r(e){var t=p;if(s?e=s(e,n):a&&(e=e.replace(/\n/g,function(){return p++,"$line="+p+";"})),0===e.indexOf("=")){var r=l&&!/^=[=#]/.test(e);if(e=e.replace(/^=[=#]?|[\s;]*$/g,""),r){var o=e.replace(/\s*\([^\)]+\)/,"");v[o]||/^(include|print)$/.test(o)||(e="$escape("+e+")")}else e="$string("+e+")";e=g[1]+e+g[2]}return a&&(e="$line="+t+";"+e),$(i(e),function(e){if(e&&!f[e]){var n;n="print"===e?y:"include"===e?b:v[e]?"$utils."+e:w[e]?"$helpers."+e:"$data."+e,x+=e+"="+n+",",f[e]=!0}}),e+"\n"}var a=n.debug,c=n.openTag,u=n.closeTag,s=n.parser,d=n.compress,l=n.escape,p=1,f={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},h="".trim,g=h?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],m=h?"$out+=text;return $out;":"$out.push(text);",y="function(){var text=''.concat.apply('',arguments);"+m+"}",b="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+m+"}",x="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(a?"$line=0,":""),S=g[0],T="return new String("+g[3]+");";$(e.split(c),function(e){e=e.split(u);var n=e[0],i=e[1];1===e.length?S+=t(n):(S+=r(n),i&&(S+=t(i)))});var _=x+S+T;a&&(_="try{"+_+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+o(e)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var j=new Function("$data","$filename",_);return j.prototype=v,j}catch(E){throw E.temp="function anonymous($data,$filename) {"+_+"}",E}}var c=function(e,n){return"string"==typeof n?b(n,{filename:e}):d(e,n)};c.version="3.0.0",c.config=function(e,n){u[e]=n};var u=c.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},s=c.cache={};c.render=function(e,n){return b(e,n)};var d=c.renderFile=function(e,n){var t=c.get(e)||y({filename:e,name:"Render Error",message:"Template not found"});return n?t(n):t};c.get=function(e){var n;if(s[e])n=s[e];else if("object"==typeof document){var t=document.getElementById(e);if(t){var r=(t.value||t.innerHTML).replace(/^\s*|\s*$/g,"");n=b(r,{filename:e})}}return n};var l=function(e,n){return"string"!=typeof e&&(n=typeof e,"number"===n?e+="":e="function"===n?l(e.call(e)):""),e},p={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},f=function(e){return p[e]},h=function(e){return l(e).replace(/&(?![\w#]+;)|[<>"']/g,f)},g=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},m=function(e,n){var t,r;if(g(e))for(t=0,r=e.length;r>t;t++)n.call(e,e[t],t,e);else for(t in e)n.call(e,e[t],t)},v=c.utils={$helpers:{},$include:d,$string:l,$escape:h,$each:m};c.helper=function(e,n){w[e]=n};var w=c.helpers=v.$helpers;c.onerror=function(e){var n="Template Error\n\n";for(var t in e)n+="<"+t+">\n"+e[t]+"\n\n";console.log(n)};var y=function(e){return c.onerror(e),function(){return"{Template Error}"}},b=c.compile=function(e,n){function t(t){try{return new c(t,o)+""}catch(r){return n.debug?y(r)():(n.debug=!0,b(e,n)(t))}}n=n||{};for(var i in u)n[i]===r&&(n[i]=u[i]);var o=n.filename;try{var c=a(e,n)}catch(d){return d.filename=o||"anonymous",d.name="Syntax Error",y(d)}return t.prototype=c.prototype,t.toString=function(){return c.toString()},o&&n.cache&&(s[o]=t),t},$=v.$each,x="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",S=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,T=/[^\w$]+/g,_=new RegExp(["\\b"+x.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),j=/^\d[^,]*|,\d[^,]*/g,E=/^,+|,+$/g,k=/^$|,+/;c.parseTpl=function(e,n){var t="var __p=[];with(obj||{}){__p.push('"+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(e,n){return"',"+n.replace(/\\'/,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(e,n){return"');"+n.replace(/\\'/,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+'\');}return __p.join("");',r=new Function("obj",t);return n?r(n):r};var O;"function"==typeof e.template?O=e.template:e.template=c,"function"==typeof define?define(function(){return c}):"function"==typeof define?define(function(){return c}):"undefined"!=typeof n&&(t.exports=c)}(ddvp),!function(e){function n(e){var n=this.os={},t=this.browser={},r=e.match(/WebKit\/([\d.]+)/),i=e.match(/(Android)\s+([\d.]+)/),o=e.match(/(iPad).*OS\s([\d_]+)/),a=!o&&e.match(/(iPhone\sOS)\s([\d_]+)/),c=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),u=c&&e.match(/TouchPad/),s=e.match(/Kindle\/([\d.]+)/),d=e.match(/Silk\/([\d._]+)/),l=e.match(/(BlackBerry).*Version\/([\d.]+)/);(t.webkit=!!r)&&(t.version=r[1]),i&&(n.android=!0,n.version=i[2]),a&&(n.ios=n.iphone=!0,n.version=a[2].replace(/_/g,".")),o&&(n.ios=n.ipad=!0,n.version=o[2].replace(/_/g,".")),c&&(n.webos=!0,n.version=c[2]),u&&(n.touchpad=!0),l&&(n.blackberry=!0,n.version=l[2]),s&&(n.kindle=!0,n.version=s[1]),d&&(t.silk=!0,t.version=d[1]),!d&&n.android&&e.match(/Kindle Fire/)&&(t.silk=!0)}n.call(e,navigator.userAgent),e.__detect=n}(Zepto),!function(e,n){function t(e){return e.toLowerCase()}function r(e){return i?i+e:t(e)}var i,o="",a={Webkit:"webkit",Moz:"",O:"o",ms:"MS"},c=window.document,u=c.createElement("div"),s=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,d={};e.each(a,function(e,r){return u.style[e+"TransitionProperty"]!==n?(o="-"+t(e)+"-",i=r,!1):void 0}),d[o+"transition-property"]=d[o+"transition-duration"]=d[o+"transition-timing-function"]=d[o+"animation-name"]=d[o+"animation-duration"]="",e.fx={off:i===n&&u.style.transitionProperty===n,cssPrefix:o,transitionEnd:r("TransitionEnd"),animationEnd:r("AnimationEnd")},e.fn.animate=function(n,t,r,i){return e.isObject(t)&&(r=t.easing,i=t.complete,t=t.duration),t&&(t/=1e3),this.anim(n,t,r,i)},e.fn.anim=function(t,r,i,a){var c,u,l,p={},f=this,h=e.fx.transitionEnd;if(r===n&&(r=.4),e.fx.off&&(r=0),"string"==typeof t)p[o+"animation-name"]=t,p[o+"animation-duration"]=r+"s",h=e.fx.animationEnd;else{for(u in t)s.test(u)?(c||(c=[]),c.push(u+"("+t[u]+")")):p[u]=t[u];c&&(p[o+"transform"]=c.join(" ")),e.fx.off||"object"!=typeof t||(p[o+"transition-property"]=Object.keys(t).join(", "),p[o+"transition-duration"]=r+"s",p[o+"transition-timing-function"]=i||"linear")}return l=function(n){if("undefined"!=typeof n){if(n.target!==n.currentTarget)return;e(n.target).unbind(h,arguments.callee)}e(this).css(d),a&&a.call(this)},r>0&&this.bind(h,l),setTimeout(function(){f.css(p),0>=r&&setTimeout(function(){f.each(function(){l.call(this)})},0)},0),this},u=null}(Zepto),!function(e,n){var t,r=n.userAgent,i=e.browser,o={wx:/WeixinJSBridge|MicroMessenger\/([\d.]+)/i,qq:/MQQBrowser\/([\d.]+)/i,uc:/UCBrowser\/([\d.]+)/i,miui:/MiuiBrowser\/([\d.]+)/i,baidu:/baidubrowser\/.*?([\d.]+)/i};e.each(o,function(e,n){return(t=r.match(n))?(i[e]=!0,i.version=t[1],!1):void 0}),!i.uc&&/Uc/i.test(n.appVersion)&&(i.uc=!0)}(Zepto,window.navigator),function(e,n){function t(){var e=o.attr("hl-cls");clearTimeout(a),o.removeClass(e).removeAttr("hl-cls"),o=null,c.off("touchend touchmove touchcancel",t)}var r=(window.document,document.documentElement,window),i={fix:function(t){var r=this;if(r.attr("isFixed"))return r;r.css(t).css("position","fixed").attr("isFixed",!0);var i=e('<div style="position:fixed;top:10px;"></div>').appendTo("body"),o=i[0].getBoundingClientRect().top,a=function(){window.pageYOffset>0&&(i[0].getBoundingClientRect().top!==o&&(r.css("position","absolute"),c(),e(window).on("scrollStop",c),e(window).on("ortchange",c)),e(window).off("scrollStop",a),i.remove())},c=function(){r.css({top:window.pageYOffset+(t.bottom!==n?window.innerHeight-r.height()-t.bottom:t.top||0),left:t.right!==n?document.body.offsetWidth-r.width()-t.right:t.left||0}),"100%"==t.width&&r.css("width",document.body.offsetWidth)};return e(window).on("scrollStop",a),r}};e.extend(e.fn,i),e.extend(e,i),e.matchMedia=function(){var n=0,t="media-detect",r=e.fx.transitionEnd,i=e.fx.cssPrefix,o=e("<style></style>").append("."+t+"{"+i+"transition: width 0.001ms; width: 0; position: absolute; clip: rect(1px, 1px, 1px, 1px);}\n").appendTo("head");return function(i){var a,c,u=t+n++,s=[];return o.append("@media "+i+" { #"+u+" { width: 1px; } }\n"),a=e('<div class="'+t+'" id="'+u+'"></div>').appendTo("body").on(r,function(){c.matches=1===a.width(),e.each(s,function(n,t){e.isFunction(t)&&t.call(c,c)})}),c={matches:1===a.width(),media:i,addListener:function(e){return s.push(e),this},removeListener:function(e){var n=s.indexOf(e);return~n&&s.splice(n,1),this}}}}(),e.mediaQuery={ortchange:"screen and (width: "+window.innerWidth+"px)"},e.matchMedia(e.mediaQuery.ortchange).addListener(function(){e(window).trigger("ortchange")});var o,a,c=e(document);e.fn.highlight=function(n,r){return this.each(function(){var i=e(this);i.css("-webkit-tap-highlight-color","rgba(255,255,255,0)").off("touchstart.hl"),n&&i.on("touchstart.hl",function(u){var s;o=r?(s=e(u.target).closest(r,this))&&s.length&&s:i,o&&(o.attr("hl-cls",n),a=setTimeout(function(){o.addClass(n)},100),c.on("touchend touchmove touchcancel",t))})})},e.fn.throttle=function(t,r,i){function o(){function e(){c=Date.now(),r.apply(u,d)}function o(){a=n}var u=this,s=Date.now()-c,d=arguments;i&&!a&&e(),a&&clearTimeout(a),i===n&&s>t?e():a=setTimeout(i?o:e,i===n?t-s:t)}var a,c=0;return"function"!=typeof r&&(i=r,r=t,t=250),o._zid=r._zid=r._zid||e.proxy(r)._zid,o},e.fn.debounce=function(t,r,i){return r===n?e.fn.throttle(250,t,!1):e.fn.throttle(t,r,i===n?!1:i!==!1)},e(r).on("pageshow",function(n){n.persisted&&e(r).off("touchstart",backEventOffHandler).one("touchstart",backEventOffHandler)}),e.fn.parseTpl=function(e,n){var t="var __p=[];with(obj||{}){__p.push('"+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(e,n){return"',"+n.replace(/\\'/,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(e,n){return"');"+n.replace(/\\'/,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+'\');}return __p.join("");',r=new Function("obj",t);return n?r(n):r};var u={highlight:e.fn.highlight,throttle:e.fn.throttle,debounce:e.fn.debounce,parseTpl:e.fn.parseTpl,oriShow:function(){return this.css({display:"block"}),this},oriHide:function(){return this.css({display:"none"}),this},htmlLog:function(n,t){0===e("#js_htmlLog").length&&e("body").append(e('<div id="js_htmlLog" style="height: 200px;overflow: scroll;"></div>'));var r=[];e.isUndefined(n)||r.push("<span>"+n+"</span>"),e.isUndefined(t)||r.push("<span>"+t+"</span>"),e("#js_htmlLog").prepend(r.join(" ")+"<br>")},noop:function(){},blankFun:function(){},isString:function(n){return"string"===e.type(n)},isUndefined:function(e){return"undefined"==typeof e},isNumber:function(n){return"number"===e.type(n)},isEmpty:function(e){if(null==e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;for(var n in e)if(hasOwnProperty.call(e,n)||null!==e[n])return!1;return!0},isArray:function(n){return!e.isUndefined(n)&&n instanceof Array},merge:function(n,t){for(var r in n)e.isUndefined(t[r])||(n[r]=t[r]);return n},isScript:function(e){return e=e||"",!!/\.js(?=[\?#]|$)/i.exec(e)},isCss:function(e){return e=e||"",!!/\.css(?=[\?#]|$)/i.exec(e)},isRegExp:function(e){return e&&"[object RegExp]"===Object.prototype.toString.call(e)},now:function(){return(new Date).getTime()},nowDataString:function(){var e=new Date,n=String(e.getMonth()+1>=12?12:e.getMonth()+1);n.length<2&&(n="0"+n);var t=String(e.getDate());t.length<2&&(t="0"+t);var r=String(e.getHours());r.length<2&&(r="0"+r);var i=String(e.getMinutes());i.length<2&&(i="0"+i);var o=String(e.getSeconds());o.length<2&&(o="0"+o);var a=" "+e.getFullYear()+n+t+" "+r+":"+i+":"+o;return a},getISOTimeFormat:function(){var e=new Date,n=e.getFullYear(),t=e.getMonth()+1,r=e.getDate(),i=e.getHours(),o=e.getMinutes(),a=e.getSeconds();return[[n,10>t?"0"+t:t,10>r?"0"+r:r].join("-"),[10>i?"0"+i:i,10>o?"0"+o:o,10>a?"0"+a:a].join(":")].join(" ")},formatSeconds:function(e){e=parseInt(e);var n=parseInt(e/60),t=n>=60?parseInt(n/60):0,r=e%60,i="";return n>=60&&(n%=60),t>0&&(i+=10>t?"0"+t:t,i+=":"),i+=10>n?"0"+n:n,i+=":",i+=10>r?"0"+r:r},getHost:function(){var e=window.location.hostname||window.location.host,n=location.host.split(".");return n.length>1&&(e=n.slice(n.length-2).join(".")),e},getUrlParam:function(e,n){n=n||document.location.toString();var t=new RegExp("(^|&|\\\\?)"+e+"=([^&]*)(&|$|#)"),r=null;return(r=n.match(t))?r[2]:""},filterXSS:function(n){return e.isString(n)?(n=n.replace(/</g,"&lt;"),n=n.replace(/>/g,"&gt;"),n=n.replace(/\"/g,"&quot;"),n=n.replace(/\'/g,"&apos;")):n},createGUID:function(e){e=e||32;for(var n="",t=1;e>=t;t++){var r=Math.floor(16*Math.random()).toString(16);n+=r}return n},formatSize:function(e){var n=""+e;return n.indexOf("%")>0?n:n.indexOf("px")>0?n:/^\d+$/.test(n)?n+"px":n}};e.extend(e,u),e.extend(e.fn,u)}(Zepto),window.ddvp=window.ddvp||{};var r=e("ddplayer/base/console.js"),i=e("ddplayer/player/didiPlayer.js");ddvp.didiPlayer={maxId:1},ddvp.didiPlayer.ready=function(e){r.log("发送行为统计点:(ddPlayer_display)"),$(document).ready(function(){$.isFunction(e)&&e(i)})},t.exports=ddvp.didiPlayer,t.exports.vars=e("ddplayer/base/vars.js")});
;define("page/trip/main.js",function(e){"use strict";var n=e("ddplayer"),i=e("didibridge"),a=n.vars,t=e("didimonitor"),r=function(){n.ready(function(e){var n=location.href.replace(/[?#].*/g,""),r={param:{playerConId:"playerWrap",playerConfig:{data:window.videoData||{},autoplay:!1},clsBodyBg:"js_body_bg",clsBodyBgPlayed:"js_body_bg_played",clsBtnGet:"js_power_get",idBtnShare:"btnShare",isPlayed:!1,idWrongLayer:"wrongLayer",wxShareConfig:{link:n,img_url:"http://static.xiaojukeji.com/pinche/release/page/trip/img/share_ed5cb12.jpg",title:"最sexy的城市出行方式！新技能get",desc:"最经济，最有趣！城市出行sexy秘籍！",weibo_desc:"最经济，最有趣！城市出行sexy秘籍！-滴滴 (来自@滴滴顺风车) http://t.cn/RyVFtQ4"},shareConfig:{share_url:n,share_img_url:"http://static.xiaojukeji.com/pinche/release/page/trip/img/share_ed5cb12.jpg",share_icon_url:"http://static.xiaojukeji.com/pinche/release/page/trip/img/share_ed5cb12.jpg",share_title:"最sexy的城市出行方式！新技能get",share_content:"最经济，最有趣！城市出行sexy秘籍！",weibo_desc:"最经济，最有趣！城市出行sexy秘籍！-滴滴 (来自@滴滴顺风车) http://t.cn/RyVFtQ4"}},model:{player:null},view:{},ctrl:{}},o=r.param,s=r.model,c=(r.view,r.ctrl);o.init=function(){return $.isFunction(e)?0===$("#"+o.playerConId).length?!1:!0:!1},s.initEntranceConfig=function(){o.entranceConfig={entrance:{icon:"http://static.xiaojukeji.com/api/img/i-webview-entrance.png"},buttons:[{type:"share_weixin_timeline",name:"分享到微信朋友圈",data:o.shareConfig,callback:function(){}},{type:"share_weixin_appmsg",name:"分享给微信好友",data:o.shareConfig,callback:function(){}},{type:"share_sina_weibo",name:"分享到新浪微博",data:$.extend({},o.shareConfig,{share_content:o.shareConfig.weibo_desc||o.shareConfig.desc}),callback:function(){}},{type:"share_qq_appmsg",name:"分享给QQ好友",data:o.shareConfig,callback:function(){}},{type:"share_qzone",name:"分享到QQ空间",data:o.shareConfig,callback:function(){}},{type:"page_refresh",name:"刷新"}]}},c.init=function(){if(o.init()){window.ddplayer=s.player=new e(o.playerConfig),o.$btnGet=$("."+o.clsBtnGet),o.$btnShare=$("#"+o.idBtnShare),o.$wrongLayer=$("#"+o.idWrongLayer),c.eventInit(),s.player.htmlTo($("#"+o.playerConId)),a.IsDiDiBrowser&&(s.initEntranceConfig(),i.initEntrance(o.entranceConfig),i.showEntrance(),o.$btnShare.show()),$("body").css("height",$(window).height());var n=t.sendBeatles;n("sfc-video-150922_index_sw",null,!0)}},c.eventInit=function(){var e=c.process;s.player.on("play",function(){o.isPlayed||($("body").addClass("played"),o.$btnGet.hide(),o.isPlayed=!0)}),o.$btnGet.on(a.END_EVENT,function(){s.player&&s.player.$midPlay.trigger(a.END_EVENT)}),s.player.on("ended",function(){return e.ended(),!1}),e.share(),e.orient()},c.process={},c.process.ended=function(){},c.process.share=function(){o.$btnShare.on(a.END_EVENT,function(){i&&i.invokeEntrance()}),initWxShare(o.wxShareConfig)},c.process.orient=function(){$(window).bind("orientationchange",function(){0==window.orientation||180==window.orientation?(o.$wrongLayer.hide(),$("html").removeClass("orientation")):90!=window.orientation&&-90!=window.orientation||o.isPlayed?(s.player.$ctrlFullScreen.trigger(a.END_EVENT),$("html").addClass("orientation")):o.$wrongLayer.show()})},c.init()})};r()});