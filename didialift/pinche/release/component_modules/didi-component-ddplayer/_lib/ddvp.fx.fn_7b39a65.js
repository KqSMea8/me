!function(t,n){var e,i=n.userAgent,r=t.browser,o={wx:/WeixinJSBridge|MicroMessenger\/([\d.]+)/i,qq:/MQQBrowser\/([\d.]+)/i,uc:/UCBrowser\/([\d.]+)/i,miui:/MiuiBrowser\/([\d.]+)/i,baidu:/baidubrowser\/.*?([\d.]+)/i};t.each(o,function(t,n){return(e=i.match(n))?(r[t]=!0,r.version=e[1],!1):void 0}),!r.uc&&/Uc/i.test(n.appVersion)&&(r.uc=!0)}(Zepto,window.navigator),function(t,n){function e(){var t=o.attr("hl-cls");clearTimeout(a),o.removeClass(t).removeAttr("hl-cls"),o=null,c.off("touchend touchmove touchcancel",e)}var i=(window.document,document.documentElement,window),r={fix:function(e){var i=this;if(i.attr("isFixed"))return i;i.css(e).css("position","fixed").attr("isFixed",!0);var r=t('<div style="position:fixed;top:10px;"></div>').appendTo("body"),o=r[0].getBoundingClientRect().top,a=function(){window.pageYOffset>0&&(r[0].getBoundingClientRect().top!==o&&(i.css("position","absolute"),c(),t(window).on("scrollStop",c),t(window).on("ortchange",c)),t(window).off("scrollStop",a),r.remove())},c=function(){i.css({top:window.pageYOffset+(e.bottom!==n?window.innerHeight-i.height()-e.bottom:e.top||0),left:e.right!==n?document.body.offsetWidth-i.width()-e.right:e.left||0}),"100%"==e.width&&i.css("width",document.body.offsetWidth)};return t(window).on("scrollStop",a),i}};t.extend(t.fn,r),t.extend(t,r),t.matchMedia=function(){var n=0,e="media-detect",i=t.fx.transitionEnd,r=t.fx.cssPrefix,o=t("<style></style>").append("."+e+"{"+r+"transition: width 0.001ms; width: 0; position: absolute; clip: rect(1px, 1px, 1px, 1px);}\n").appendTo("head");return function(r){var a,c,s=e+n++,u=[];return o.append("@media "+r+" { #"+s+" { width: 1px; } }\n"),a=t('<div class="'+e+'" id="'+s+'"></div>').appendTo("body").on(i,function(){c.matches=1===a.width(),t.each(u,function(n,e){t.isFunction(e)&&e.call(c,c)})}),c={matches:1===a.width(),media:r,addListener:function(t){return u.push(t),this},removeListener:function(t){var n=u.indexOf(t);return~n&&u.splice(n,1),this}}}}(),t.mediaQuery={ortchange:"screen and (width: "+window.innerWidth+"px)"},t.matchMedia(t.mediaQuery.ortchange).addListener(function(){t(window).trigger("ortchange")});var o,a,c=t(document);t.fn.highlight=function(n,i){return this.each(function(){var r=t(this);r.css("-webkit-tap-highlight-color","rgba(255,255,255,0)").off("touchstart.hl"),n&&r.on("touchstart.hl",function(s){var u;o=i?(u=t(s.target).closest(i,this))&&u.length&&u:r,o&&(o.attr("hl-cls",n),a=setTimeout(function(){o.addClass(n)},100),c.on("touchend touchmove touchcancel",e))})})},t.fn.throttle=function(e,i,r){function o(){function t(){c=Date.now(),i.apply(s,d)}function o(){a=n}var s=this,u=Date.now()-c,d=arguments;r&&!a&&t(),a&&clearTimeout(a),r===n&&u>e?t():a=setTimeout(r?o:t,r===n?e-u:e)}var a,c=0;return"function"!=typeof i&&(r=i,i=e,e=250),o._zid=i._zid=i._zid||t.proxy(i)._zid,o},t.fn.debounce=function(e,i,r){return i===n?t.fn.throttle(250,e,!1):t.fn.throttle(e,i,r===n?!1:r!==!1)},t(i).on("pageshow",function(n){n.persisted&&t(i).off("touchstart",backEventOffHandler).one("touchstart",backEventOffHandler)}),t.fn.parseTpl=function(t,n){var e="var __p=[];with(obj||{}){__p.push('"+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(t,n){return"',"+n.replace(/\\'/,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(t,n){return"');"+n.replace(/\\'/,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+'\');}return __p.join("");',i=new Function("obj",e);return n?i(n):i};var s={highlight:t.fn.highlight,throttle:t.fn.throttle,debounce:t.fn.debounce,parseTpl:t.fn.parseTpl,oriShow:function(){return this.css({display:"block"}),this},oriHide:function(){return this.css({display:"none"}),this},htmlLog:function(n,e){0===t("#js_htmlLog").length&&t("body").append(t('<div id="js_htmlLog" style="height: 200px;overflow: scroll;"></div>'));var i=[];t.isUndefined(n)||i.push("<span>"+n+"</span>"),t.isUndefined(e)||i.push("<span>"+e+"</span>"),t("#js_htmlLog").prepend(i.join(" ")+"<br>")},noop:function(){},blankFun:function(){},isString:function(n){return"string"===t.type(n)},isUndefined:function(t){return"undefined"==typeof t},isNumber:function(n){return"number"===t.type(n)},isEmpty:function(t){if(null==t)return!0;if(t.length>0)return!1;if(0===t.length)return!0;for(var n in t)if(hasOwnProperty.call(t,n)||null!==t[n])return!1;return!0},isArray:function(n){return!t.isUndefined(n)&&n instanceof Array},merge:function(n,e){for(var i in n)t.isUndefined(e[i])||(n[i]=e[i]);return n},isScript:function(t){return t=t||"",!!/\.js(?=[\?#]|$)/i.exec(t)},isCss:function(t){return t=t||"",!!/\.css(?=[\?#]|$)/i.exec(t)},isRegExp:function(t){return t&&"[object RegExp]"===Object.prototype.toString.call(t)},now:function(){return(new Date).getTime()},nowDataString:function(){var t=new Date,n=String(t.getMonth()+1>=12?12:t.getMonth()+1);n.length<2&&(n="0"+n);var e=String(t.getDate());e.length<2&&(e="0"+e);var i=String(t.getHours());i.length<2&&(i="0"+i);var r=String(t.getMinutes());r.length<2&&(r="0"+r);var o=String(t.getSeconds());o.length<2&&(o="0"+o);var a=" "+t.getFullYear()+n+e+" "+i+":"+r+":"+o;return a},getISOTimeFormat:function(){var t=new Date,n=t.getFullYear(),e=t.getMonth()+1,i=t.getDate(),r=t.getHours(),o=t.getMinutes(),a=t.getSeconds();return[[n,10>e?"0"+e:e,10>i?"0"+i:i].join("-"),[10>r?"0"+r:r,10>o?"0"+o:o,10>a?"0"+a:a].join(":")].join(" ")},formatSeconds:function(t){t=parseInt(t);var n=parseInt(t/60),e=n>=60?parseInt(n/60):0,i=t%60,r="";return n>=60&&(n%=60),e>0&&(r+=10>e?"0"+e:e,r+=":"),r+=10>n?"0"+n:n,r+=":",r+=10>i?"0"+i:i},getHost:function(){var t=window.location.hostname||window.location.host,n=location.host.split(".");return n.length>1&&(t=n.slice(n.length-2).join(".")),t},getUrlParam:function(t,n){n=n||document.location.toString();var e=new RegExp("(^|&|\\\\?)"+t+"=([^&]*)(&|$|#)"),i=null;return(i=n.match(e))?i[2]:""},filterXSS:function(n){return t.isString(n)?(n=n.replace(/</g,"&lt;"),n=n.replace(/>/g,"&gt;"),n=n.replace(/\"/g,"&quot;"),n=n.replace(/\'/g,"&apos;")):n},createGUID:function(t){t=t||32;for(var n="",e=1;t>=e;e++){var i=Math.floor(16*Math.random()).toString(16);n+=i}return n},formatSize:function(t){var n=""+t;return n.indexOf("%")>0?n:n.indexOf("px")>0?n:/^\d+$/.test(n)?n+"px":n}};t.extend(t,s),t.extend(t.fn,s)}(Zepto);