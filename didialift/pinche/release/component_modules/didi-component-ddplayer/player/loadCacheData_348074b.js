define("didi-component-ddplayer/player/loadCacheData.js",function(t,i,e){"use strict";var r=t("didi-component-ddplayer/base/vars.js"),s=(t("cookie"),t("didi-component-ddplayer/base/special.js"),{vid:"",elemId:"",poster:"",posterType:"",mediaType:"",modeType:"",modeTypeList:[],srcType:"",width:"",height:"",volume:0,curPlayUrl:"",srcList:{},pointList:[],autoplay:!1,defControls:!1,loop:!1,preload:!1,title:"",duration:0,curIndex:-1,totCounts:-1,history:{},ipLimit:"",liveEnName:"",liveIcon:"",liveId:"",timeLimit:-1,liveUrl:"",vidList:[],vidCurIndex:-1,debug:!1,mainActor:"",latestCount:"",desc:"",oriUrls:null,fullscreenType:0,isRemHistory:!1,modeList:["nor","hig","sup","app"]}),n=function(t,i){$.extend(this,s),$.merge(this,t),$.isUndefined(i)||this._initVOD(i)};n.prototype.getPlayList=function(){return this.srcList[this.modeType]||[]},n.prototype.getNextUrl=function(){var t=this.getPlayList(),i=this.curIndex+1,e=t[i];return $.isUndefined(e)?"":e.url},n.prototype.getFirstUrl=function(){var t=this.getPlayList(),i=t[0];return $.isUndefined(i)?"":i.url},n.prototype._initVOD=function(t){var i=this;i.poster="horizon"===i.posterType?t.horHighPic||t.verHighPic||"":t.verHighPic||t.horHighPic||"";var e=t.totalDuration||t.total_duration||0;i.duration=parseInt(e,10),i.timeLimit>-1&&i.timeLimit<i.duration&&(i.duration=i.timeLimit),i.title=t.tvname||t.videoName||t.video_name||"",i.mainActor=t.main_actor||"",i.latestCount=t.latest_video_count||"",i.desc=t.video_desc||"",i.srcType=t.srcType||"mp4",$.isUndefined(t.urls)||(i.oriUrls=t.urls),!$.isUndefined(t.ep)&&t.ep instanceof Array&&$.each(t.ep,function(t,e){var r={};r.time=parseInt(e.k,10),r.desc=e.v,i.pointList.push(r)}),i.vid=t.vid;var s=!1;if(!$.isUndefined(t.urls)){var n=t.urls[i.srcType],o=t.durations;for(var d in n)i.srcList[d]=[],n[d]instanceof Array&&$.each(n[d],function(e,r){var s={};s.url=r,s.duration="m3u8"===i.srcType?t.totalDuration||t.total_duration||-1:parseInt(o[d][e]||-1,10),i.srcList[d].push(s)}),!s&&i.srcList[d].length>0&&(s=!0,i.totCounts=i.srcList[d].length);var a=function(){var e={};e.url="",$.isUndefined(t.urls.downloadUrl)||(e.url=t.urls.downloadUrl[0]||""),e.duration=parseInt(i.duration||-1,10),i.srcType="mp4",i.modeType=i.modeType,i.srcList.nor=[e],i.totCounts=i.srcList.nor.length};s||"client"===i.srcType||a(),i.totCounts>0&&(i.curIndex=0),!r.IsIphone&&r.IsUCBrowser&&"client"!==i.srcType&&a(),/Android 2./i.test(r.UA)&&a(),i._initCurPlayUrlAndModeType()}},n.prototype._initCurPlayUrlAndModeType=function(){var t=this,i=t.getPlayList(),e=this.modeList;$.each(e,function(e,r){if(!$.isUndefined(t.srcList[r])&&t.srcList[r].length>0){if(0===i.length)return t.modeType=r,!1;t.modeTypeList.push(r)}}),$(e).indexOf("app")>-1&&this.modeTypeList.push("app"),i=this.getPlayList(),i.length>0&&(this.curPlayUrl=i[0].url)},e.exports=n});