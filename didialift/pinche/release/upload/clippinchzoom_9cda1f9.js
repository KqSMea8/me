define("upload/clippinchzoom.js",function(t,i,o){var s=t("upload/pinchzoom.js"),a=o.exports=function(){s.apply(this,arguments)};a.prototype=$.extend({},s.prototype,{sanitize:function(){1!=this.zoomFactor&&(this.zoomFactor<this.options.zoomOutFactor?this.zoomOutAnimation():this.isInsaneOffset(this.offset)&&this.sanitizeOffsetAnimation())},canDrag:function(){return!0},handleDrag:function(t){var i=this.getTouches(t)[0];this.drag(i,this.lastDragPosition),this.offset=this.sanitizeOffset(this.offset),this.lastDragPosition=i},sanitizeOffset:function(t){var i=this.options.imgWidth/this.options.imgHeight,o=this.getContainerY(),s=this.getContainerX(),a=(this.zoomFactor-1)*s,n=(this.zoomFactor-1)*o,h=s/o,e=this.options.imgCliper.getViewportRect(),r=e.h,m=e.w;if(1>h)var f=s/i,c=s;else var c=o*i,f=o;var p=(o-r)/2-(o-f)/2*this.zoomFactor;n+=p;var g=(s-m)/2-(s-c)/2*this.zoomFactor;a+=g;var u=Math.max(a,g),z=Math.max(n,p),l=Math.min(a,-g),v=Math.min(n,-p);return{x:Math.min(Math.max(t.x,l),u),y:Math.min(Math.max(t.y,v),z)}}})});