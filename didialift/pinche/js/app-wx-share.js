$(function(){function n(n){var i=n||{title:"顺风出行，期待每一次的不期而遇。",desc:"滴滴顺风车车主有奖招募中，有车即可参与",link:location.href,imgUrl:"http://static.xiaojukeji.com/pinche/images/share.jpg"};wx.onMenuShareAppMessage({title:i.title,desc:i.desc,link:i.link,imgUrl:i.imgUrl,trigger:function(n){},success:function(n){},cancel:function(n){},fail:function(n){}}),wx.onMenuShareTimeline({title:i.tltitle||i.title,desc:i.tldesc||i.desc,link:i.link,imgUrl:i.imgUrl,trigger:function(n){},success:function(n){},cancel:function(n){},fail:function(n){}}),wx.onMenuShareQQ({title:i.title,desc:i.desc,link:i.link,imgUrl:i.imgUrl,trigger:function(n){},complete:function(n){},success:function(n){},cancel:function(n){},fail:function(n){}})}var i=!1;window.initWxShare=function(e){return i?void n(e):void $.ajax({url:"http://res.wx.qq.com/open/js/jweixin-1.0.0.js",dataType:"jsonp",error:function(){$.ajax({url:"http://wap.didialift.com/pinche/wxApi/getJsSdkConfig?url="+encodeURIComponent(location.href),dataType:"jsonp",success:function(t){var o=t;if(o&&"0"==o.errno){var c={debug:!1,appId:"wxab524d83299d6c83",timestamp:o.timestamp,nonceStr:o.nonceStr,signature:o.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ"]};/debug=1/.test(location.href)&&(console.log("initWxShare"),console.log(c),console.log(e)),wx.config(c),wx.ready(function(){i=!0,n(e)})}},error:function(){}})}})}}),$(function(n){function i(n){if(n){var i=n.btn,o=n.shareConfig,c=[{button:i,method:"invoke_entrance"}],a={share_url:o.link,share_icon_url:o.img_url,share_img_url:o.img_url,share_title:o.title,share_content:o.desc,share_from:"native"},r={entrance:{icon:"http://static.diditaxi.com.cn/webapp/images/driver.png"},buttons:[{type:"share_weixin_timeline",name:"分享到微信朋友圈",data:a,callback:function(){}},{type:"share_weixin_appmsg",name:"分享给微信好友",data:a,callback:function(){}},{type:"share_qq_appmsg",name:"分享给QQ好友",data:a,callback:function(){}},{type:"share_qzone",name:"分享到QQ空间",data:a,callback:function(){}}]};t(function(n){"undefined"!=typeof n&&(n.callHandler("init_entrance",JSON.stringify(r)),e(n,c))})}}function e(n,i){$.map(i,function(i){!function(i){$(i.button).on("touchend",function(e){"undefined"!=typeof n&&n.callHandler(i.method)})}(i)})}function t(n){window.DidiJSBridge?n(DidiJSBridge):document.addEventListener("DidiJSBridgeReady",function(){n(DidiJSBridge)},!1)}/debug=1/.test(location.href)&&(window.DidiJSBridge={callHandler:function(n,i){console.log("call action "+n),console.log(i)}}),window.initDidiShare=i});