!function(e){var o=new Array,t=0,n="",i="",a="",r="",d=0,c={onComplete:function(){},backgroundColor:"#000",barColor:"#fff",barHeight:1,percentage:!1,deepSearch:!0,completeAnimation:"fade",onLoadComplete:function(){if("grow"==c.completeAnimation)try{e(i).fadeOut(500,function(){e(this).remove(),c.onComplete()})}catch(o){e(i).animate({opacity:0},500,"",function(){e(this).remove(),c.onComplete()})}else try{e(i).fadeOut(500,function(){e(i).remove(),c.onComplete()})}catch(o){e(i).animate({opacity:0},500,"",function(){e(this).remove(),c.onComplete()})}}},f=function(){p(),g()},p=function(){n=e("<div></div>").appendTo("body").css({display:"none",width:0,height:0,overflow:"hidden"});for(var t=0;o.length>t;t++)d++,l(o[t])},l=function(o){e("<img />").attr("src",o).bind("load",function(){s()}).appendTo(n)},s=function(){t++;var o=t/d*100;e(a).animate({width:o+"%"},200),1==c.percentage&&e(r).text(Math.ceil(o)+"%"),t==d&&h()},h=function(){e(n).remove(),c.onLoadComplete()},g=function(){i=e("<div id='qLoverlay'></div>").css({width:"100%",height:"100%",backgroundColor:c.backgroundColor,backgroundPosition:"fixed",position:"fixed",zIndex:666999,top:0,left:0}).appendTo("body"),loadingdiv=e('<div id="loadingDiv"><div class="load_01"></div><div class="load_02"></div></div>').appendTo(i),1==c.percentage&&(r=e("<div id='qLpercentage'></div>").text("0%").css({height:"40px",width:"100px",position:"absolute",fontSize:c.fontsize,top:"65%",left:"50%",marginTop:"-"+(59+c.barHeight)+"px",textAlign:"center",marginLeft:"-50px",color:c.barColor,fontWeight:c.fontWeight}).appendTo(i))},u=function(t){var n="";if("none"!=e(t).css("background-image"))var n=e(t).css("background-image");else if("undefined"!=typeof e(t).attr("src")&&"img"==t.nodeName.toLowerCase())var n=e(t).attr("src");if(-1==n.indexOf("gradient")){n=n.replace(/url\(\"/g,""),n=n.replace(/url\(/g,""),n=n.replace(/\"\)/g,""),n=n.replace(/\)/g,"");for(var i=n.split(", "),a=0;a<i.length;a++)if(i[a].length>0){var r="";e.browser.msie&&e.browser.version<9&&(r="?"+Math.floor(3e3*Math.random())),o.push(i[a]+r)}}};e.fn.queryLoader2=function(o){return o&&e.extend(c,o),this.each(function(){u(this),1==c.deepSearch&&e(this).find("*:not(script)").each(function(){u(this)})}),f(),this}}(window.Zepto||window.jQuery);